"use strict";(self.webpackChunkadmin_login_react=self.webpackChunkadmin_login_react||[]).push([[922,66],{5066:(e,t,a)=>{a.d(t,{Z:()=>k});var l=a(72791),s=a(41213),n=a(20751),i=a(31711),r=a(41381),d=a(86608),c=a(35019),o=a(44353),u=a(12105),m=a(63524),x=a(56355),h=a(82420),j=a(3757),p=a(16856),b=a(77050),g=a(15770),v=a(93006),f=a(57621),N=a(39504),y=a(97240),C=a(59434),S=a(94822),w=a(24521),Z=a(51338),T=a(80184);const k=e=>{let{data:t,onClose:a,onAssignChange:k,textHeading:D}=e;const[F,I]=(0,l.useState)(!1),[M,P]=(0,l.useState)({}),[L,E]=(0,l.useState)({canLeadId:"",qualified:!1,notQualified:!1});let R=1===(0,C.v9)((e=>e.adminDetails)).roleID;const[W,A]=(0,l.useState)(!1),[O,Y]=(0,l.useState)(null),[z,H]=(0,l.useState)(1),[q,Q]=(0,l.useState)(!1),[X,B]=(0,l.useState)(!1);console.log(t,"jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj");const[_,J]=(0,l.useState)({metaLeadId:"",adminId:""}),[$,U]=(0,l.useState)({id:null,adminName:[]}),[G,V]=(0,l.useState)(!0);(0,l.useEffect)((()=>{const e=window.location.href;let t=e.includes("interview_schedule_list");console.log(e,"parameterrrs"),V(!t)}),[]);const K=e=>{H(e)};(0,l.useRef)(),(0,l.useRef)();function ee(){L.canLeadId&&(A(!0),L.notes=O.notes,(0,c.$9Q)(L).then((()=>{Q(!1),B(!1),(0,c.tpq)().then((e=>{console.log(e),P(e)})),A(!1)})))}(0,l.useEffect)((()=>{_.adminId&&_.metaLeadId&&(0,c.LUt)(_).then((e=>{if(200!==e.code)return alert("something went wrong"),!1;I(!0),setTimeout((()=>{I(!1)}),3e3),k()}))}),[_]),(0,l.useEffect)((()=>{(0,c.EPx)().then((e=>{console.log(e,"All admin details");const t=e.map((e=>e.userName)),a=e.map((e=>e.id));console.log(t),console.log(a),U((e=>({...e,adminName:t,id:a})))}))}),[]);const te=e=>{const t="https://api.whatsapp.com/send?phone=".concat(e);window.open(t,"_blank")},[ae,le]=(0,l.useState)(!1),se=(e,t)=>{navigator.clipboard.writeText(e,t).then((()=>{le(!0)}))};M.keySkill&&"string"===typeof M.keySkill&&M.keySkill.split(",");return(0,T.jsx)("div",{children:(0,T.jsx)(n.Ur,{children:(0,T.jsx)(r.Z,{topComponent:(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:"".concat(d.Z.boxcross),children:(0,T.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,T.jsx)("div",{children:(0,T.jsx)("h4",{className:"text-light ms-3",children:D})}),(0,T.jsx)("div",{className:" ".concat(d.Z.CrossStyle," pe-5 pe-lg-4"),children:(0,T.jsx)("b",{children:(0,T.jsx)(s.$iT,{onClick:()=>{a()}})})})]})})}),childComponent:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"".concat(d.Z.boxwidth),children:(0,T.jsxs)("div",{className:"container-fluid",children:[(0,T.jsxs)("div",{className:"row ".concat(d.Z.topcontainer),children:[(0,T.jsxs)("div",{className:"col-sm-4",children:[(0,T.jsxs)("div",{className:"row",children:[(0,T.jsxs)("div",{className:"col-sm-4",children:[" ",t.profilePic?(0,T.jsx)("img",{src:t.profilePic,alt:"Candidate Profile",width:70}):(0,T.jsx)("img",{src:o,alt:"Profile",width:100})]}),(0,T.jsxs)("div",{className:"col-sm-6",children:[(0,T.jsx)("div",{children:(0,T.jsxs)("b",{children:[t.candidateName," "]})}),(0,T.jsxs)("div",{children:[t.jobCategory?(0,T.jsx)(T.Fragment,{children:t.jobCategory}):(0,T.jsxs)(T.Fragment,{children:[" ","Fresher"]})," "]}),(0,T.jsx)("div",{children:(0,T.jsx)("div",{className:"",children:(0,T.jsx)("div",{className:"".concat(u.Z.StatusStyle),children:(0,T.jsx)("div",{children:(0,T.jsxs)(T.Fragment,{children:[!0===t.qualified&&(0,T.jsxs)("div",{className:"".concat(u.Z.Green_wrp),children:[(0,T.jsx)("input",{type:"radio",name:"status_".concat(t.id),checked:t.qualified,id:"qualified_".concat(t.id)}),(0,T.jsx)("label",{htmlFor:"qualified_".concat(t.id),children:"Qualified"})]}),!0===t.notQualified&&(0,T.jsxs)("div",{className:"".concat(u.Z.chips_wrp),children:[(0,T.jsx)("input",{type:"radio",checked:t.notQualified,name:"status_".concat(t.id),id:"notQualified_".concat(t.id)}),(0,T.jsx)("label",{htmlFor:"notQualified_".concat(t.id),children:"Not Qualified"})]})]})})})})})]})]}),(0,T.jsx)("div",{className:"row mt-1",children:(0,T.jsxs)("div",{className:"".concat(d.Z.Createdon),children:["Created on :"," ",(0,T.jsx)(n.H3,{dateValue:t.createdTime})]})})]}),(0,T.jsx)("div",{className:"col-sm-8",children:(0,T.jsxs)("div",{className:"row",children:[(0,T.jsx)("div",{className:"col-sm-4"}),(0,T.jsx)("div",{className:"col-sm-8 ",children:(0,T.jsx)("div",{className:"row ",children:(0,T.jsxs)("div",{className:"col-sm-12 ".concat(d.Z.flexContainer),children:[(0,T.jsx)("div",{className:"".concat(d.Z.LiaUserEditSolid),children:(0,T.jsx)("div",{className:"mb-1",onClick:()=>te(t.whatsappNumber),children:(0,T.jsx)(x.xpo,{})})}),(0,T.jsx)("div",{}),(0,T.jsxs)("div",{class:"btn-group",children:[(0,T.jsx)("button",{type:"button","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false",style:{border:"none"},className:"".concat(d.Z.ThreeOutline),children:(0,T.jsx)(m.ty6,{})}),(0,T.jsxs)("ul",{class:"dropdown-menu dropdown-menu-end dropdown-menu-lg-end",children:[(0,T.jsx)("li",{children:(0,T.jsx)("button",{class:"dropdown-item",type:"button",children:G&&t.id&&(0,T.jsx)(y.Z,{candidateId:t.id})})}),(0,T.jsx)("li",{children:(0,T.jsxs)("button",{class:"dropdown-item",type:"button",children:[(0,T.jsx)(p.fFs,{})," +91 ",t.mobileNumber," ",(0,T.jsx)(p.twx,{onClick:()=>se(t.mobileNumber),className:"ms-5"})]})}),(0,T.jsx)("li",{children:(0,T.jsxs)("button",{class:"dropdown-item",type:"button",children:[(0,T.jsx)(x.xpo,{})," +91 ",t.whatsappNumber," ",(0,T.jsx)(p.twx,{onClick:()=>se(t.whatsappNumber),className:"ms-5"})]})})]})]})]})})})]})})]}),(0,T.jsxs)("div",{className:"row mt-2 px-4 ",children:[(0,T.jsxs)("div",{className:"col-sm-4 pb-4 rounded ".concat(d.Z.personalDetails),children:[(0,T.jsxs)("div",{className:"mt-2",children:[" ",(0,T.jsx)("h6",{children:(0,T.jsx)("b",{children:"Personal Details"})}),(0,T.jsxs)("div",{className:"row ".concat(d.Z.CanDetailsRow),children:[(0,T.jsxs)("div",{className:"col-5",children:[(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Name "}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Mobile Number"}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Whatsapp Number"})]}),(0,T.jsxs)("div",{className:"col-7",children:[(0,T.jsxs)("div",{style:{lineHeight:"2"},children:[" ",null!=t.candidateName?t.candidateName:"-"]}),(0,T.jsxs)("div",{className:"d-flex ",style:{lineHeight:"2"},children:[(0,T.jsxs)("div",{className:"me-3 ".concat(d.Z.numbersstyle),children:[(0,T.jsx)("img",{src:h,alt:"",width:15})," ",(0,T.jsxs)("span",{children:[t.mobileNumber," "]}),(0,T.jsx)(p.twx,{onClick:()=>se(t.mobileNumber)})]}),(0,T.jsx)("div",{className:"".concat(d.Z.Phonecall),children:(0,T.jsx)(p.fFs,{})})]}),(0,T.jsxs)("div",{className:"d-flex",style:{lineHeight:"2"},children:[(0,T.jsxs)("div",{className:"me-3 ".concat(d.Z.Whatsapnumbersstyle),children:[(0,T.jsx)("img",{src:j,alt:"",width:16}),(0,T.jsx)("span",{children:t.whatsappNumber?t.whatsappNumber.slice(-10):""}),(0,T.jsx)(p.twx,{onClick:()=>se(t.whatsappNumber)})]}),(0,T.jsx)("div",{className:"".concat(d.Z.Phonecall),children:(0,T.jsx)(x.xpo,{onClick:()=>te(t.whatsappNumber)})})]})]})]})]}),(0,T.jsxs)("div",{className:"mt-2",children:[(0,T.jsx)("h6",{children:(0,T.jsx)("b",{children:"Education Details"})}),(0,T.jsxs)("div",{className:"row ".concat(d.Z.CanDetailsRow),children:[(0,T.jsxs)("div",{className:"col-5",children:[(0,T.jsxs)("div",{style:{lineHeight:"2"},children:[" ","Qualification"]}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Degree/Specialization"})]}),(0,T.jsxs)("div",{className:"col-7",children:[" ",(0,T.jsxs)("div",{style:{lineHeight:"2"},children:[null!=t.educationQualification?t.educationQualification:"-"," "]}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:null!=t.specification?t.specification:"-"})]})]})]}),(0,T.jsxs)("div",{className:"mt-2",children:[(0,T.jsx)("h6",{children:(0,T.jsx)("b",{children:"Work Details"})}),(0,T.jsxs)("div",{className:"row ".concat(d.Z.CanDetailsRow),children:[(0,T.jsxs)("div",{className:"col-5",children:[(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Job Category "}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Industry"}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Experience"}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:"Preferred Job City"})]}),(0,T.jsxs)("div",{className:"col-7",children:[(0,T.jsxs)("div",{style:{lineHeight:"2"},children:[null!=t.jobCategory?t.jobCategory:"-"," "]}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:null!=t.industry?t.industry:"-"}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:null!=t.experience?t.experience:"-"}),(0,T.jsx)("div",{style:{lineHeight:"2"},children:null!=t.preferredLocation?t.preferredLocation:"-"})]})]})]}),R&&(0,T.jsxs)("div",{className:"mt-2",children:[(0,T.jsx)("h6",{children:(0,T.jsx)("b",{children:"Admin Details"})}),(0,T.jsxs)("div",{className:"row ".concat(d.Z.CanDetailsRow),children:[(0,T.jsx)("div",{className:"col-5",children:(0,T.jsx)("div",{children:"Assigned To"})}),(0,T.jsx)("div",{className:"col-7",children:(0,T.jsx)("div",{children:(0,T.jsx)(g.Z,{id:"clear-on-escape",clearOnEscape:!0,onChange:(e,a)=>{if(a){const e=a;if($&&$.adminName&&$.id&&$.adminName.indexOf&&$.id.indexOf){const a=$.adminName.indexOf(e);if(-1!==a&&void 0!==$.id[a]){const e=$.id[a];((e,t)=>{J((a=>({...a,adminId:t,metaLeadId:e})))})(t.id,e)}else console.error("Admin with name ".concat(e," not found."))}else console.error("Invalid adminDetails structure")}},value:$.adminName&&$.id&&$.adminName[$.id.indexOf(t.assignTo)],options:$.adminName,renderInput:e=>(0,T.jsx)(v.Z,{...e,label:"Assign to",variant:"standard"})})})})]})]})]}),(0,T.jsx)("div",{className:" col-sm-8 rounded  ".concat(d.Z.DailyDetailsupdate),children:(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"tab-buttons ".concat(b.Z.tab_buttons),children:[(0,T.jsxs)("div",{className:"d-flex ".concat(b.Z.tab_hr),children:[(0,T.jsx)("div",{onClick:()=>K(1),className:" ".concat(1===z?b.Z.activetag:b.Z.unactivetag," "),children:"TimeLine"}),(0,T.jsx)("div",{onClick:()=>K(2),className:" ".concat(2===z?b.Z.activetag:b.Z.unactivetag),children:"Notes"})]}),(0,T.jsx)("hr",{style:{borderTop:"10px solid #ccc"}})]}),(0,T.jsxs)("div",{className:"tab-content ".concat(b.Z.tab_content),children:[t.id&&1===z&&(0,T.jsx)("p",{children:(0,T.jsx)(w.Z,{facebookId:t.id})}),t.id&&2===z&&(0,T.jsx)("p",{children:(0,T.jsx)(f.Z,{style:{maxWidth:700,minWidth:350,margin:"0 auto"},children:(0,T.jsx)(N.Z,{children:(0,T.jsx)(Z.Z,{facebookId:t.id})})})})]})]})})]})]})}),X&&(0,T.jsx)(n.Xf,{children:(0,T.jsx)(i.Z,{zIndex:1005,childComponent:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"text-center mb-3",children:"Qualify Candidate"}),(0,T.jsx)(v.Z,{id:"outlined-multiline-flexible",label:"Add Notes",multiline:!0,required:!0,onChange:e=>{Y((t=>({...t,notes:e.target.value})))},maxRows:4,fullWidth:!0})]}),(0,T.jsxs)("div",{className:"d-flex justify-content-end gap-1 mt-4",children:[(0,T.jsx)("button",{className:"btn text-white me-3",onClick:()=>{console.log("Cancel button clicked"),B(!1),A(!1)},style:{backgroundColor:"#d00a0a"},children:"Cancel"}),(0,T.jsx)("button",{type:"submit",className:"btn text-white",onClick:ee,disabled:W,style:{backgroundColor:"#169C50"},children:"Qualify"})]})]})})}),q&&(0,T.jsx)(n.Xf,{children:(0,T.jsx)(i.Z,{zIndex:1005,childComponent:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"text-center mb-3",children:"Disqualify Candidate"}),(0,T.jsx)(v.Z,{id:"outlined-multiline-flexible",label:"Add Notes",multiline:!0,required:!0,onChange:e=>{Y((t=>({...t,notes:e.target.value})))},maxRows:4,fullWidth:!0})]}),(0,T.jsxs)("div",{className:"d-flex justify-content-end gap-1 mt-4",children:[(0,T.jsx)("button",{className:"btn text-white me-3",onClick:()=>{console.log("Cancel button clicked"),Q(!1),A(!1)},style:{backgroundColor:"#d00a0a"},children:"Cancel"}),(0,T.jsx)("button",{type:"submit",className:"btn text-white",onClick:ee,disabled:W,style:{backgroundColor:"#169C50"},children:"Disqualify"})]})]})})}),F&&(0,T.jsx)(n.Xf,{children:(0,T.jsx)(i.Z,{zIndex:2e3,childComponent:(0,T.jsx)(S.Z,{HeadText:"Successfully Updated"})})})]})})})})}},3922:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var l=a(72791),s=a(28938),n=a(39126),i=a(57246),r=a(93006),d=a(15770),c=a(79813),o=a(56355),u=a(44593),m=a(35019),x=a(20751),h=a(31711),j=a(71185),p=a(59434),b=a(64387),g=a(68096),v=a(30829),f=a(58406),N=a(65117),y=a(78820),C=a(80184);const S=function(e){let{onclose:t}=e,a=(0,p.v9)((e=>e.CandidatePipelineDetails.leadGenerationFilter));const[s,n]=(0,l.useState)({mobileNumber:a.mobileNumber,assignTo:a.assignTo,profilePageNo:a.profilePageNo,fromSource:a.fromSource,jobCategory:a.jobCategory,currentStatus:a.currentStatus,dateFilterType:a.dateFilterType,expYearsMax:a.expYearsMax,expYearsMin:a.expYearsMin,createdTimeStart:a.createdTimeStart,createdTimeEnd:a.createdTimeEnd,page:0,currentPipeline:a.currentPipeline,pipelineStage:a.pipelineStage,stages:a.stages}),[i,c]=(0,l.useState)([]),[o,u]=l.useState(null),S=Boolean(o),[w,Z]=(0,l.useState)(!1),[T,k]=(0,l.useState)({start:!1,end:!1}),D=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15+",label:"15+"}],F=(0,p.I0)();function I(e,t){const a=e.target.value;"startDate"===t?(n((e=>({...e,createdTimeStart:a,dateFilterType:"custom"}))),k((e=>({...e,start:!1})))):(n((e=>({...e,createdTimeEnd:a,dateFilterType:"custom"}))),k((e=>({...e,end:!1}))))}const[M,P]=(0,l.useState)({jobCategory:[]}),L=e=>{let t=e;const a=new Date;let l=new Date;if("lastWeek"===t){const e=new Date;e.setDate(a.getDate()-7),n((t=>({...t,dateFilterType:"Last 1 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("today"===t)n((e=>({...e,dateFilterType:"Today",createdTimeStart:a.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null);else if("lastMonth"===t){const e=new Date;e.setMonth(e.getMonth()-1),n((t=>({...t,dateFilterType:"Last Month",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("lastTwoWeeks"===t){const e=new Date(a);e.setDate(a.getDate()-13),n((t=>({...t,dateFilterType:"Last 2 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("yesterday"===t){const e=new Date;e.setDate(e.getDate()-1),n((t=>({...t,dateFilterType:"Yesterday",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else"custom"===t&&(Z(!0),u(null))};function E(e,t){if("mobileNumber"===e)(/^\d*$/.test(t)||""===t)&&n((a=>({...a,[e]:t})));else n((a=>({...a,[e]:t})))}return(0,l.useEffect)((()=>{(0,m.aUE)().then((e=>{P((t=>({...t,jobCategory:e.filter((e=>"job category"==e.category)).map((e=>e.options))})))})),(0,m.EPx)().then((e=>{console.log(e);const t=e.filter((e=>!e.Deactived));c(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,l.useEffect)((()=>{F(j.mn.setLeadGenerationFilter(s))}),[s]),(0,l.useEffect)((()=>{}),[a]),(0,C.jsxs)("div",{style:{width:"70vw"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,C.jsx)("span",{children:(0,C.jsxs)("p",{children:[(0,C.jsx)("b",{children:"Candidate Lead Filter"})," "]})}),(0,C.jsx)("span",{onClick:()=>{t()},className:"btn btn-danger",style:{cursor:"pointer"},children:(0,C.jsx)(y.oHP,{style:{fontSize:"20px"}})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:-1==s.mobileNumber?"":s.mobileNumber,onChange:e=>E("mobileNumber",e.target.value),inputProps:{maxLength:15},InputProps:{startAdornment:(0,C.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(y.Nhm,{style:{marginRight:"5px"}})," +91"]})}})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{onChange:e=>E("assignTo",e.target.value),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",value:s.assignTo,defaultValue:s.assignTo,children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),i.map((e=>(0,C.jsx)(b.Z,{value:e.id,children:e.userName},e.id)))]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{fullWidth:!0,label:"Stage",id:"fullWidth",placeholder:"Stage",select:!0,name:"profileNo",value:s.profilePageNo,onChange:e=>E("profilePageNo",e.target.value),children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),(0,C.jsx)(b.Z,{value:1,children:"1"}),(0,C.jsx)(b.Z,{value:2,children:"2"}),(0,C.jsx)(b.Z,{value:3,children:"3"}),(0,C.jsx)(b.Z,{value:4,children:"4"}),(0,C.jsx)(b.Z,{value:5,children:"5"}),(0,C.jsx)(b.Z,{value:6,children:"6"})]})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Source"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.fromSource,onChange:e=>E("fromSource",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Retention",children:"Old lead"}),(0,C.jsx)(b.Z,{value:"Reference",children:"Reference"}),(0,C.jsx)(b.Z,{value:"Whatsapp",children:"Whatsapp"}),(0,C.jsx)(b.Z,{value:"App",children:"App"}),(0,C.jsx)(b.Z,{value:"Meta lead",children:"Meta lead"}),(0,C.jsx)(b.Z,{value:"Naukri",children:"Naukri"})]})]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(d.Z,{id:"tags-outlined",options:M.jobCategory.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:s.jobCategory,onChange:(e,t,a)=>{E("jobCategory","clear"===a?"":t)},filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Job category",placeholder:"Job category"})})}),(0,C.jsxs)("div",{className:"col-sm-4",children:[(0,C.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,children:[(0,C.jsx)(r.Z,{label:"Created on",id:"basic-button",value:"".concat(s.dateFilterType),"aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:e=>{u(e.currentTarget)}}),(0,C.jsxs)(N.Z,{id:"basic-menu",anchorEl:o,open:S,onClose:e=>{console.log(e),u(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,C.jsx)(b.Z,{onClick:()=>{L("today")},style:{width:"180px"},children:"Today"}),(0,C.jsx)(b.Z,{onClick:()=>{L("yesterday")},children:"Yesterday"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastWeek")},children:"Last 1 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastTwoWeeks")},children:"Last 2 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastMonth")},children:"Last Month"}),(0,C.jsx)(b.Z,{onClick:()=>{L("custom")},children:"Custom Date"})]})]}),w&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:1005,childComponent:(0,C.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{children:(0,C.jsxs)("form",{children:[(0,C.jsx)("p",{className:"text-center ",children:"Select Custom Date "}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"start",children:"From"}),(0,C.jsx)("input",{className:"form-control ".concat(T.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>I(e,"startDate"),value:s.createdTimeStart,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.start&&(0,C.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"end",children:"To"}),(0,C.jsx)("input",{className:"form-control ".concat(T.end?"is-invalid":""),value:s.createdTimeEnd,style:{width:"100%"},type:"date",id:"end",onChange:e=>I(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.end&&(0,C.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{k({start:!1,end:!1}),Z(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,C.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=s.createdTimeStart&&s.createdTimeEnd;return s.createdTimeStart||k((e=>({...e,start:!0}))),s.createdTimeEnd||k((e=>({...e,end:!0}))),e})()&&(k({start:!1,end:!1}),Z(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMin",e.target.value),value:s.expYearsMin,name:"experience",id:"experience",className:"form-control",select:!0,label:"Min experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMax",e.target.value),value:s.expYearsMax,name:"experience",id:"experience",className:"form-control",select:!0,label:"Max experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row",children:[(0,C.jsx)("button",{onClick:function(){n({mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",createdTimeStart:"2020-01-01",createdTimeEnd:(0,x.x2)((0,x.Xz)(1)),expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"New candidate lead",pipelineStage:"New leads",stages:1})},className:"btn btn-danger mx-2",children:"Clear"}),(0,C.jsx)("button",{onClick:function(){F(j.mn.setLeadGenerationFilter(s)),t()},className:"btn btn-success",children:"Submit"})]})]})};var w=a(99486),Z=a(65623),T=a(94822),k=a(84373),D=a(39709),F=a(20860),I=a(58617),M=a(59565);const P=function(){const[e,t]=(0,l.useState)({data:[]});let a=(0,p.v9)((e=>e.CandidatePipelineDetails.leadGenerationFilter)),b=((0,p.v9)((e=>e.CandidatePipelineDetails.candidateFilter)),(0,p.v9)((e=>e.CandidatePipelineDetails.refreshCountIncrement))),g=1==(0,p.v9)((e=>e.adminDetails)).roleID;const[v,f]=(0,l.useState)(!1),[N,P]=(0,l.useState)(!1),[L,E]=(0,l.useState)(!1),[R,W]=(0,l.useState)(""),[A,O]=(0,l.useState)(""),[Y,z]=(0,l.useState)(""),[H,q]=(0,l.useState)({PopupAddCanLead:!1,callRemainder:!1,success:!1,confirmation:!1,notAttendConfiramtion:!1}),[Q,X]=(0,l.useState)(!1),[B,_]=(0,l.useState)(!1),[J,$]=l.useState(new Date),[U,G]=(0,l.useState)({notes:"",date:null}),[V,K]=(0,l.useState)([]),[ee,te]=(0,l.useState)(""),[ae,le]=(0,l.useState)(""),[se,ne]=(0,l.useState)(!1),[ie,re]=(0,l.useState)(!1),[de,ce]=(0,l.useState)(0),oe=(0,p.I0)(),ue=new Date;ue.setSeconds(0),ue.setMilliseconds(0);const me=new Date(ue.getTime()+6048e5),xe=async(e,t)=>{let a;"CandidateLead"===t?a=await(0,m.tpq)(e):"RegisterCandidate"===t&&(a=await(0,m.LSy)(e)),oe(j.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:a}))};async function he(){_(!0);let e=await(0,m.bmW)(a);if(e.status){if(g)t(e);else{let a=e.data.shift();t((e=>({...e,data:[a]})))}ce(e.totalElements)}else t({data:[]}),ce(0);setTimeout((()=>{_(!1)}),1e3)}(0,l.useEffect)((()=>{he(),ne(function(e,t){const a={...e};delete a.page;const l={...t};delete l.page;for(let s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!0;return!1}(je,a))}),[a,b]);let je={mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",createdTimeStart:"2020-01-01",createdTimeEnd:(0,x.x2)((0,x.Xz)(1)),expYearsMax:-1,expYearsMin:-1,page:"",stages:1,currentPipeline:"New candidate lead",pipelineStage:"New leads"};const pe=e=>{const t=e.target.value;W(t);let a=!1;"experience"===t&&(a=!0),(0,m.F_c)(a,A.mobileNumber,"").then((e=>{console.log("Data Format",e,"mobile number ",A.mobileNumber)}))};function be(){z(!0),setTimeout((()=>{z(!1),W(""),P(!1)}),1e3),he(),Ce()}function ge(e){q((t=>({...t,callRemainder:e})))}function ve(e){q((t=>({...t,notAttendConfiramtion:e})))}function fe(e){q((t=>({...t,confirmation:e})))}function Ne(e,t){console.log(t,"date formate"),"date"===e?(re(!1),G((a=>({...a,[e]:t})))):G((a=>({...a,[e]:t})))}const ye=(0,x.xE)();function Ce(){(0,m.xPH)().then((e=>{oe(j.mn.setRefreshCount())}))}return console.log(ye,"CurrentDateandTime"),(0,l.useEffect)((()=>{(0,m.C3z)().then((e=>{console.log(e,"status"),K(e)}))}),[]),(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineContainer," mx-2"),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.headerCard," p-2 d-flex justify-content-between"),children:[(0,C.jsx)("div",{children:(0,C.jsxs)("b",{children:["Candidate Lead (",de,") "]})}),(0,C.jsxs)("div",{className:"mt-0",children:[(0,C.jsx)("div",{className:"d-inline-block ",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{Ce()},children:[" ",(0,C.jsx)(F.wQf,{})]})})," ",(0,C.jsx)("div",{className:"d-inline-block mx-2",children:(0,C.jsxs)("span",{onClick:()=>{q({PopupAddCanLead:!0})},children:[" ",(0,C.jsx)(o.wEH,{className:s.Z.faplus})]})})," ",(0,C.jsx)("div",{className:"d-inline-block",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{he()},children:[" ",(0,C.jsx)(I.zHJ,{className:"".concat(B?s.Z.refreshRotate:s.Z.refreshcolor)})]})})," ",(0,C.jsxs)("div",{onClick:()=>{f(!0)},className:"d-inline-block mx-2 ",style:{cursor:"pointer",color:"#858585"},children:[(0,C.jsx)(o.ulB,{}),(0,C.jsx)("p",{style:{backgroundColor:se?"red":"transparent",width:"9px",height:"9px",marginTop:"-12px",zIndex:1e3,marginLeft:"10px",borderRadius:"50%"}})," "]})]})]}),(0,C.jsx)("div",{className:"".concat(s.Z.bodyContainer),children:e.data.map((e=>(0,C.jsx)("div",{onClick:()=>{O(e)},children:(0,C.jsxs)("div",{className:"".concat(s.Z.bodyCard,"  "),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.textContent," p-1 "),children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[" ",(0,C.jsx)("div",{onClick:()=>{xe(e.id,"CandidateLead")},style:{cursor:"pointer"},className:s.Z.candidateName,children:(0,C.jsxs)("b",{children:[e.name?e.name:"-"," ",e.lastName?e.lastName:""]})})," ",(0,C.jsx)("div",{children:(0,C.jsx)(C.Fragment,{children:(0,x.x2)(e.createdTime)===(0,x.x2)(new Date)?(0,C.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,C.jsx)("img",{src:c,alt:"",className:"",width:"40px",height:"25px",style:{marginTop:"2.3px"}})}):(0,C.jsx)("span",{children:(()=>{const t=Math.floor(((new Date).getTime()-new Date((0,x.x2)(e.createdTime)).getTime())/864e5),a=Math.abs(t);return 1===a?(0,C.jsx)("b",{style:{fontSize:"12px"},children:"Yesterday"}):(0,C.jsxs)(C.Fragment,{children:[" ",(0,C.jsxs)("b",{style:{fontSize:"12px"},children:[a," days ago"]})]})})()})})})]}),e.jobCategory?e.jobCategory:"-",(0,C.jsx)("br",{}),(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:e.mobileNumber?e.mobileNumber:"-"}),(0,C.jsx)("b",{style:{border:"1px solid yellow",backgroundColor:"lightyellow",fontSize:"10px",borderRadius:"8px",marginRight:"18px",padding:"4px"},children:"Retention"===e.fromSource?"Old lead":null===e.fromSource?"Meta lead":e.fromSource})]})]}),(0,C.jsx)("div",{style:{marginTop:"-20px"},className:"d-flex justify-content-end",children:(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"dropdown",children:[(0,C.jsx)("span",{style:{cursor:"pointer"},id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,C.jsx)(n.FQA,{})}),(0,C.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[(0,C.jsx)("li",{onClick:()=>{P(!0),(0,m.Cik)(A.mobileNumber).then((e=>{var t;e&&e.canLeadDetails?W(!0===(null===(t=e.canLeadDetails)||void 0===t?void 0:t.experienced)?"experience":"fresher"):console.error("CanLeadDetails not available in data:",e)})).catch((e=>{console.error("Error fetching candidate details:",e)}))},children:(0,C.jsx)("a",{className:"dropdown-item",href:"#",children:"Qualified"})}),(0,C.jsx)("li",{children:(0,C.jsx)("a",{onClick:()=>{fe(!0)},className:"dropdown-item",href:"#",children:"Not Qualified"})}),(0,C.jsx)("li",{children:(0,C.jsx)("a",{onClick:()=>{ve(!0)},className:"dropdown-item",href:"#",children:"Not Attend"})}),(0,C.jsx)("li",{children:(0,C.jsx)("a",{onClick:()=>{ge(!0)},className:"dropdown-item",href:"#",children:"Call Remainder"})})]})]})})})]})},e.id)))}),(0,C.jsx)("div",{className:"mt-3 d-grid justify-content-center",children:(0,C.jsx)(i.Z,{shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){oe(j.mn.setPageChange({type:"leadGenerationFilter",value:t-1}))},count:e.totalPages,size:"small"})}),v&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(S,{onclose:()=>{f(!1)}})})})}),N&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"container d-flex align-itmes-center justify-content-between",children:[(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("p",{children:(0,C.jsx)("b",{children:"Candidate lead qualify form"})}),(0,C.jsxs)("div",{className:"d-flex",children:[" ",(0,C.jsxs)("div",{className:"me-2  ".concat(u.Z.radioInput),children:[(0,C.jsx)("input",{type:"radio",name:"fresher",id:"fresherYes",value:"fresher",className:"form-check-input ",checked:"fresher"===R,onChange:pe}),(0,C.jsx)("label",{for:"fresherYes",children:"Fresher"})]}),(0,C.jsx)("div",{className:"me-2  ".concat(u.Z.radioInput),children:(0,C.jsxs)("label",{className:"form-check-label",children:[(0,C.jsx)("input",{type:"radio",name:"experience",id:"experienceNo",value:"experience",className:"form-check-input ",checked:"experience"===R,onChange:pe}),(0,C.jsx)("label",{for:"experienceNo",children:"Experience"})]})})]})]}),(0,C.jsx)("div",{className:"ms-5",children:(0,C.jsxs)("div",{className:"btn btn-outline-danger",onClick:function(){W(""),P(!1),he()},children:[(0,C.jsx)(y.oHP,{})," "]})})]}),(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:"fresher"===R?(0,C.jsxs)(C.Fragment,{children:[" ",(0,C.jsx)(w.Z,{mobilenumber:A.mobileNumber,whatsappNumber:A.whatsappNumber,Reloadpage:be})]}):"experience"===R?(0,C.jsx)(Z.Z,{mobileNumber:A.mobileNumber,whatsappNumber:A.whatsappNumber,Reloadpage:be}):null})})]})})})}),Y&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(T.Z,{HeadText:"Successfully Submit"})})}),H.confirmation&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"",children:" Confirmation "}),(0,C.jsxs)("div",{children:["Are you sure that you want to not qualify"," ",(0,C.jsxs)("b",{children:[" ",A.name," ",A.lastName," "]}),"?"]}),(0,C.jsxs)("form",{action:"#",onSubmit:e=>function(e){if(e.preventDefault(),!U.notes)return;E(!0);let t={notQualified:!0,notes:U.notes,date:ye,id:A.id};(0,m.jTS)(t).then((()=>{fe(!1),E(!1),G({notes:""}),oe(j.mn.setRefreshCount()),Ce()}),[])}(e),children:[(0,C.jsxs)("div",{children:[" ",(0,C.jsx)(r.Z,{label:"Add Notes",multiline:!0,value:U.notes,onChange:e=>{Ne("notes",e.target.value)},variant:"outlined",fullWidth:!0,required:!0,margin:"normal"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{fe(!1)},className:"btn btn-danger mx-3",children:"No"})," ",(0,C.jsx)("button",{className:"btn btn-success",type:"submit",disabled:L,children:"Yes"})]})]})]})})})})}),H.notAttendConfiramtion&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"",children:" Confirmation "}),(0,C.jsxs)("div",{children:["Are you sure that you want to not attend"," ",(0,C.jsxs)("b",{children:[" ",A.name," ",A.lastName]}),", please select ",(0,C.jsx)("b",{children:"event"}),"?"]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(d.Z,{id:"tags-outlined",className:"mt-3",options:V.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:ee,onChange:(e,t)=>{te(t),console.log(t),le("")},required:!0,filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Event",placeholder:"Event"})}),ae&&(0,C.jsx)("div",{className:"text-danger",children:ae})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{ve(!1),te(""),le("")},className:"btn btn-danger mx-3",children:"No"})," ",(0,C.jsx)("button",{onClick:function(){if(""===ee)return void le("Please select an event.");E(!0);let e={notAttend:!0,event:ee,date:ye,id:A.id};(0,m.jTS)(e).then((()=>{ve(!1),E(!1),te(""),oe(j.mn.setRefreshCount()),Ce()}),[])},className:"btn btn-success",disabled:L,children:"Yes"})]})]})})})})}),H.callRemainder&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{style:{width:"300px"},children:[" ",(0,C.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,C.jsx)("h4",{className:"text-center",children:"Call Remainder"}),(0,C.jsxs)("span",{onClick:()=>{ge(!1)},className:"btn btn-outline-danger",children:[" ",(0,C.jsx)(k.QAE,{})]})]}),(0,C.jsxs)("form",{onSubmit:e=>function(e){if(e.preventDefault(),!U.date||!U.notes)return void re(!U.date);E(!0);let t={callRemainder:U.date instanceof Date?U.date.toISOString().split("T").join(" "):U.date.split("T").join(" "),notes:U.notes,id:A.id};X(!0),(0,m.jTS)(t).then((e=>{X(!1),ge(!1),E(!1),Ne("date",""),G({notes:"",date:""}),oe(j.mn.setRefreshCount()),Ce()})).catch((e=>{console.error("Error submitting call remainder:",e),X(!1)}))}(e),children:[(0,C.jsx)("label",{htmlFor:"",children:"Follow up date : "}),(0,C.jsx)("input",{type:"datetime-local",id:"date",name:"date",min:ue.toISOString().slice(0,-8),max:me.toISOString().slice(0,-8),className:"form-control",onChange:e=>{Ne("date",e.target.value+":00")},required:!0}),(0,C.jsx)("div",{children:" "}),(0,C.jsxs)("div",{children:[" ",(0,C.jsx)(r.Z,{label:"Add Notes",multiline:!0,value:U.notes,onChange:e=>{Ne("notes",e.target.value)},variant:"outlined",fullWidth:!0,required:!0,margin:"normal"})]}),(0,C.jsx)(D.Z,{type:"submit",loading:Q,variant:"outlined",disabled:L,children:(0,C.jsx)("span",{children:"Submit"})})]})]})})})})}),H.PopupAddCanLead&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"p-2",style:{width:"800px"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,C.jsx)("div",{className:"fs-4",children:(0,C.jsx)("b",{children:"Candidate Lead Generation"})}),(0,C.jsx)("div",{className:"btn btn-outline-danger",onClick:()=>{q({PopupAddCanLead:!1})},children:(0,C.jsx)(y.oHP,{})})]}),(0,C.jsx)("div",{className:"",style:{height:"65vh",overflow:"auto"},children:(0,C.jsx)(M.Z,{oncloseLead:()=>q((e=>({...e,PopupAddCanLead:!1}))),Reloadresponse:he})})]})})})})]})};a(72426),a(73528),a(5066),a(89781);const L=function(e){let{onclose:t}=e,a=(0,p.v9)((e=>e.CandidatePipelineDetails.callRemainderFilter));const[s,n]=(0,l.useState)({mobileNumber:a.mobileNumber,assignTo:a.assignTo,profilePageNo:a.profilePageNo,fromSource:a.fromSource,jobCategory:a.jobCategory,currentStatus:a.currentStatus,dateFilterType:a.dateFilterType,expYearsMax:a.expYearsMax,expYearsMin:a.expYearsMin,page:0,currentPipeline:a.currentPipeline,pipelineStage:a.pipelineStage,stages:a.stages,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)((0,x.B3)("add",1))}),[i,c]=(0,l.useState)([]),[o,u]=l.useState(null),[h,N]=(Boolean(o),(0,l.useState)(!1)),[S,w]=(0,l.useState)({start:!1,end:!1}),Z=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15+",label:"15+"}],T=(0,p.I0)(),[k,D]=(0,l.useState)({jobCategory:[]});function F(e,t){if("mobileNumber"===e)(/^\d*$/.test(t)||""===t)&&n((a=>({...a,[e]:t})));else n((a=>({...a,[e]:t})))}return(0,l.useEffect)((()=>{(0,m.aUE)().then((e=>{D((t=>({...t,jobCategory:e.filter((e=>"job category"==e.category)).map((e=>e.options))})))})),(0,m.EPx)().then((e=>{console.log(e);const t=e.filter((e=>!e.Deactived));c(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,l.useEffect)((()=>{T(j.mn.setCallRemainderFilter(s))}),[s]),(0,l.useEffect)((()=>{}),[a]),(0,C.jsxs)("div",{style:{width:"70vw"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,C.jsx)("span",{children:(0,C.jsxs)("p",{children:[(0,C.jsx)("b",{children:"Connecting-Qualifing Filter"})," "]})}),(0,C.jsx)("span",{onClick:()=>{t()},className:"btn btn-danger",style:{cursor:"pointer"},children:(0,C.jsx)(y.oHP,{style:{fontSize:"20px"}})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:-1==s.mobileNumber?"":s.mobileNumber,onChange:e=>F("mobileNumber",e.target.value),inputProps:{maxLength:15},InputProps:{startAdornment:(0,C.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(y.Nhm,{style:{marginRight:"5px"}})," +91"]})}})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{onChange:e=>F("assignTo",e.target.value),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",value:s.assignTo,defaultValue:s.assignTo,children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),i.map((e=>(0,C.jsx)(b.Z,{value:e.id,children:e.userName},e.id)))]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{fullWidth:!0,label:"Stage",id:"fullWidth",placeholder:"Stage",select:!0,name:"profileNo",value:s.profilePageNo,onChange:e=>F("profilePageNo",e.target.value),children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),(0,C.jsx)(b.Z,{value:1,children:"1"}),(0,C.jsx)(b.Z,{value:2,children:"2"}),(0,C.jsx)(b.Z,{value:3,children:"3"}),(0,C.jsx)(b.Z,{value:4,children:"4"}),(0,C.jsx)(b.Z,{value:5,children:"5"}),(0,C.jsx)(b.Z,{value:6,children:"6"})]})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Source"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.fromSource,onChange:e=>F("fromSource",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Retention",children:"Old lead"}),(0,C.jsx)(b.Z,{value:"Reference",children:"Reference"}),(0,C.jsx)(b.Z,{value:"Whatsapp",children:"Whatsapp"}),(0,C.jsx)(b.Z,{value:"App",children:"App"}),(0,C.jsx)(b.Z,{value:"Meta lead",children:"Meta lead"}),(0,C.jsx)(b.Z,{value:"Naukri",children:"Naukri"})]})]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(d.Z,{id:"tags-outlined",options:k.jobCategory.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:s.jobCategory,onChange:(e,t,a)=>{F("jobCategory","clear"===a?"":t)},filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Job category",placeholder:"Job category"})})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Status"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.currentStatus,onChange:e=>F("currentStatus",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Not attend",children:"Not Attend"}),(0,C.jsx)(b.Z,{value:"Call remainder",children:"Call Remainder"})]})]})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>F("expYearsMin",e.target.value),value:s.expYearsMin,name:"experience",id:"experience",className:"form-control",select:!0,label:"Min experience",children:Z.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>F("expYearsMax",e.target.value),value:s.expYearsMax,name:"experience",id:"experience",className:"form-control",select:!0,label:"Max experience",children:Z.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row",children:[(0,C.jsx)("button",{onClick:function(){n({mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"New candidate lead",pipelineStage:"Connecting Qualifying",stages:2,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)((0,x.B3)("add",1))})},className:"btn btn-danger mx-2",children:"Clear"}),(0,C.jsx)("button",{onClick:function(){T(j.mn.setCallRemainderFilter(s)),t()},className:"btn btn-success",children:"Submit"})]})]})};const E=function(){const[e,t]=(0,l.useState)({data:[]});let a=(0,p.v9)((e=>e.CandidatePipelineDetails.callRemainderFilter)),d=(0,p.v9)((e=>e.CandidatePipelineDetails.refreshCountIncrement));const[c,b]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[f,N]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),[D,F]=(0,l.useState)(""),[M,P]=(0,l.useState)(!1),[E,R]=(0,l.useState)(!1),[W,A]=(0,l.useState)({show:!1,id:1}),[O,Y]=(0,l.useState)(0),[z,H]=(0,l.useState)(!1),[q,Q]=(0,l.useState)({callRemainder:!1,success:!1,confirmation:!1}),[X,B]=(0,l.useState)(""),_=(0,p.I0)();async function J(){P(!0);let e=await(0,m.bmW)(a);e.status?(t(e),Y(e.totalElements)):(t({data:[]}),Y(0)),setTimeout((()=>{P(!1)}),1e3)}(0,l.useEffect)((()=>{J(),H(function(e,t){const a={...e};delete a.page;const l={...t};delete l.page;for(let s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!0;return!1}(K,a))}),[a,d]);const $=e=>{const t=e.target.value;N(t);let a=!1;"experience"===t&&(a=!0),(0,m.F_c)(a,S.mobileNumber,"").then((e=>{console.log("Data Format",e,"mobile number ",S.mobileNumber)}))};function U(){F(!0),setTimeout((()=>{F(!1),N(""),v(!1)}),1e3),J()}function G(e){Q((t=>({...t,confirmation:e})))}const V=(0,x.xE)();let K={mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"New candidate lead",pipelineStage:"Connecting Qualifying",stages:2,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)((0,x.B3)("add",1))};return(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineContainer," mx-2"),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.headerCard," p-2 d-flex justify-content-between"),children:[(0,C.jsxs)("b",{children:["Connecting - Qualifing (",O,") "]})," ",(0,C.jsxs)("div",{className:"mt-0",children:[(0,C.jsx)("div",{className:"d-inline-block",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{J()},children:[" ",(0,C.jsx)(I.zHJ,{className:"".concat(M?s.Z.refreshRotate:s.Z.refreshcolor)})]})})," ",(0,C.jsxs)("div",{onClick:()=>{b(!0)},className:"d-inline-block mx-2",style:{cursor:"pointer",color:"#858585"},children:[(0,C.jsx)(o.ulB,{}),(0,C.jsx)("p",{style:{backgroundColor:z?"red":"transparent",width:"9px",height:"9px",marginTop:"-12px",zIndex:1e3,marginLeft:"10px",borderRadius:"50%"}})," "]})]})]}),(0,C.jsx)("div",{className:"".concat(s.Z.bodyContainer),children:e.data.map((e=>(0,C.jsx)("div",{onClick:()=>{k(e)},children:(0,C.jsxs)("div",{className:"".concat(s.Z.bodyCard," p-1 "),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.textContent," p-1 "),children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:(0,C.jsxs)("b",{onClick:()=>{(async(e,t)=>{let a;"CandidateLead"===t?a=await(0,m.tpq)(e):"RegisterCandidate"===t&&(a=await(0,m.LSy)(e)),_(j.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:a}))})(e.id,"CandidateLead")},className:s.Z.candidateName,style:{cursor:"pointer"},children:[" ",e.name?e.name:"-"," ",e.lastName?e.lastName:""," "]})}),(0,C.jsx)("div",{style:{display:"inline-block",padding:"4px 4px",border:"1px solid",textAlign:"center",borderRadius:"8px",fontSize:"10px",borderColor:"Not attend"===e.currentStatus?"orange":"Call remainder"===e.currentStatus?"gray":"",backgroundColor:"Not attend"===e.currentStatus?"rgba(255, 99, 71, 0.2)":"Call remainder"===e.currentStatus?"lightgray":"",color:"Not attend"===e.currentStatus?"orange":"Call remainder"===e.currentStatus?"gray":""},children:(0,C.jsx)("b",{children:(0,C.jsx)("div",{children:e.currentStatus?e.currentStatus:"-"})})})]})," ",(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[e.jobCategory?e.jobCategory:"-",(0,C.jsx)("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"3px"},children:e.callRemainderOn?(()=>{const t=new Date,a=new Date(e.callRemainderOn);t.setHours(0,0,0,0),a.setHours(0,0,0,0);const l=a-t,s=Math.ceil(l/864e5);if(s>0)return"".concat(s," days more");{const e=Math.abs(s);return 0===e?"Today":1===e?"1 day ago":"".concat(e," days ago")}})():""})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:e.mobileNumber?e.mobileNumber:"-"}),(0,C.jsx)("b",{style:{border:"1px solid yellow",backgroundColor:"lightyellow",fontSize:"10px",borderRadius:"8px",marginRight:"10px",marginTop:"3px",padding:"4px"},children:"Retention"===e.fromSource?"Old lead":null===e.fromSource?"Meta lead":e.fromSource})]})]}),(0,C.jsx)("div",{style:{marginTop:"-20px"},className:"d-flex justify-content-end",children:(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"dropdown",children:[(0,C.jsx)("span",{style:{cursor:"pointer"},id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,C.jsx)(n.FQA,{})}),(0,C.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[(0,C.jsx)("li",{onClick:()=>{v(!0),(0,m.Cik)(S.mobileNumber).then((e=>{var t;e&&e.canLeadDetails?N(!0===(null===(t=e.canLeadDetails)||void 0===t?void 0:t.experienced)?"experience":"fresher"):console.error("CanLeadDetails not available in data:",e)})).catch((e=>{console.error("Error fetching candidate details:",e)}))},children:(0,C.jsx)("a",{className:"dropdown-item",href:"#",children:"Qualified"})}),(0,C.jsx)("li",{children:(0,C.jsx)("a",{className:"dropdown-item",href:"#",onClick:()=>{G(!0)},children:"Not Qualified"})})]})]})})})]})},e.id)))}),(0,C.jsx)("div",{className:"mt-3 d-grid justify-content-center",children:(0,C.jsx)(i.Z,{shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){_(j.mn.setPageChange({type:"callRemainderFilter",value:t-1}))},count:e.totalPages,size:"small"})}),c&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(L,{onclose:()=>{b(!1)}})})})}),g&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"container d-flex align-itmes-center justify-content-between",children:[(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("p",{children:(0,C.jsx)("b",{children:"Candidate lead qualify form"})}),(0,C.jsxs)("div",{className:"d-flex",children:[" ",(0,C.jsxs)("div",{className:"me-2  ".concat(u.Z.radioInput),children:[(0,C.jsx)("input",{type:"radio",name:"fresher",id:"fresherYes",value:"fresher",className:"form-check-input ",checked:"fresher"===f,onChange:$}),(0,C.jsx)("label",{for:"fresherYes",children:"Fresher"})]}),(0,C.jsx)("div",{className:"me-2  ".concat(u.Z.radioInput),children:(0,C.jsxs)("label",{className:"form-check-label",children:[(0,C.jsx)("input",{type:"radio",name:"experience",id:"experienceNo",value:"experience",className:"form-check-input ",checked:"experience"===f,onChange:$}),(0,C.jsx)("label",{for:"experienceNo",children:"Experience"})]})})]})]}),(0,C.jsx)("div",{className:"ms-5",children:(0,C.jsxs)("div",{className:"btn btn-outline-danger",onClick:function(){N(""),v(!1),J()},children:[(0,C.jsx)(y.oHP,{})," "]})})]}),(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:"fresher"===f?(0,C.jsxs)(C.Fragment,{children:[" ",(0,C.jsx)(w.Z,{mobilenumber:S.mobileNumber,whatsappNumber:S.whatsappNumber,Reloadpage:U})]}):"experience"===f?(0,C.jsx)(Z.Z,{mobileNumber:S.mobileNumber,whatsappNumber:S.whatsappNumber,Reloadpage:U}):null})})]})})})}),q.confirmation&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h4",{className:"",children:" Confirmation "}),(0,C.jsxs)("div",{children:["Are you sure that you want to not qualify"," ",(0,C.jsx)("b",{children:S.name}),"?"]}),(0,C.jsxs)("form",{action:"#",onSubmit:e=>function(e){if(e.preventDefault(),!X)return;R(!0);let t={notQualified:!0,date:V,notes:X,id:S.id};(0,m.jTS)(t).then((()=>{G(!1),R(!1),_(j.mn.setRefreshCount())}),[])}(e),children:[(0,C.jsxs)("div",{children:[" ",(0,C.jsx)(r.Z,{label:"Add Notes",multiline:!0,value:X,onChange:e=>{B(e.target.value)},variant:"outlined",fullWidth:!0,required:!0,margin:"normal"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{G(!1)},className:"btn btn-danger mx-3",children:"No"})," ",(0,C.jsx)("button",{className:"btn btn-success",disabled:E,children:"Yes"})]})]})]})})})})}),D&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(T.Z,{HeadText:"Successfully Submit"})})})]})};const R=function(e){let{onclose:t}=e,a=(0,p.v9)((e=>e.CandidatePipelineDetails.notQualifiedFilter));const[s,n]=(0,l.useState)({mobileNumber:a.mobileNumber,assignTo:a.assignTo,profilePageNo:a.profilePageNo,fromSource:a.fromSource,jobCategory:a.jobCategory,currentStatus:a.currentStatus,dateFilterType:a.dateFilterType,expYearsMax:a.expYearsMax,expYearsMin:a.expYearsMin,page:0,currentPipeline:a.currentPipeline,stages:a.stages,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)}),[i,c]=(0,l.useState)([]),[o,u]=l.useState(null),S=Boolean(o),[w,Z]=(0,l.useState)(!1),[T,k]=(0,l.useState)({start:!1,end:!1}),D=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15+",label:"15+"}],F=(0,p.I0)();function I(e,t){const a=e.target.value;"startDate"===t?(n((e=>({...e,createdTimeStart:a,dateFilterType:"custom"}))),k((e=>({...e,start:!1})))):(n((e=>({...e,createdTimeEnd:a,dateFilterType:"custom"}))),k((e=>({...e,end:!1}))))}const[M,P]=(0,l.useState)({jobCategory:[]}),L=e=>{let t=e;const a=new Date;let l=new Date;if("lastWeek"===t){const e=new Date;e.setDate(a.getDate()-7),n((t=>({...t,dateFilterType:"Last 1 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("today"===t)n((e=>({...e,dateFilterType:"Today",createdTimeStart:a.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null);else if("lastMonth"===t){const e=new Date;e.setMonth(e.getMonth()-1),n((t=>({...t,dateFilterType:"Last Month",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("lastTwoWeeks"===t){const e=new Date(a);e.setDate(a.getDate()-13),n((t=>({...t,dateFilterType:"Last 2 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("yesterday"===t){const e=new Date;e.setDate(e.getDate()-1),n((t=>({...t,dateFilterType:"Yesterday",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else"custom"===t&&(Z(!0),u(null))};function E(e,t){if("mobileNumber"===e)(/^\d*$/.test(t)||""===t)&&n((a=>({...a,[e]:t})));else n((a=>({...a,[e]:t})))}return(0,l.useEffect)((()=>{(0,m.aUE)().then((e=>{P((t=>({...t,jobCategory:e.filter((e=>"job category"==e.category)).map((e=>e.options))})))})),(0,m.EPx)().then((e=>{console.log(e);const t=e.filter((e=>!e.Deactived));c(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,l.useEffect)((()=>{F(j.mn.setNotQualifiedFilter(s))}),[s]),(0,l.useEffect)((()=>{}),[a]),(0,C.jsxs)("div",{style:{width:"70vw"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,C.jsx)("span",{children:(0,C.jsxs)("p",{children:[(0,C.jsx)("b",{children:"Not Qualified Filter"})," "]})}),(0,C.jsx)("span",{onClick:()=>{t()},className:"btn btn-danger",style:{cursor:"pointer"},children:(0,C.jsx)(y.oHP,{style:{fontSize:"20px"}})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:-1==s.mobileNumber?"":s.mobileNumber,onChange:e=>E("mobileNumber",e.target.value),inputProps:{maxLength:15},InputProps:{startAdornment:(0,C.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(y.Nhm,{style:{marginRight:"5px"}})," +91"]})}})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{onChange:e=>E("assignTo",e.target.value),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",value:s.assignTo,defaultValue:s.assignTo,children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),i.map((e=>(0,C.jsx)(b.Z,{value:e.id,children:e.userName},e.id)))]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{fullWidth:!0,label:"Stage",id:"fullWidth",placeholder:"Stage",select:!0,name:"profileNo",value:s.profilePageNo,onChange:e=>E("profilePageNo",e.target.value),children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),(0,C.jsx)(b.Z,{value:1,children:"1"}),(0,C.jsx)(b.Z,{value:2,children:"2"}),(0,C.jsx)(b.Z,{value:3,children:"3"}),(0,C.jsx)(b.Z,{value:4,children:"4"}),(0,C.jsx)(b.Z,{value:5,children:"5"}),(0,C.jsx)(b.Z,{value:6,children:"6"})]})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Source"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.fromSource,onChange:e=>E("fromSource",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Retention",children:"Old lead"}),(0,C.jsx)(b.Z,{value:"Reference",children:"Reference"}),(0,C.jsx)(b.Z,{value:"Whatsapp",children:"Whatsapp"}),(0,C.jsx)(b.Z,{value:"App",children:"App"}),(0,C.jsx)(b.Z,{value:"Meta lead",children:"Meta lead"}),(0,C.jsx)(b.Z,{value:"Naukri",children:"Naukri"})]})]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(d.Z,{id:"tags-outlined",options:M.jobCategory.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:s.jobCategory,onChange:(e,t,a)=>{E("jobCategory","clear"===a?"":t)},filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Job category",placeholder:"Job category"})})}),(0,C.jsxs)("div",{className:"col-sm-4",children:[(0,C.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,children:[(0,C.jsx)(r.Z,{label:"Created on",id:"basic-button",value:"".concat(s.dateFilterType),"aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:e=>{u(e.currentTarget)}}),(0,C.jsxs)(N.Z,{id:"basic-menu",anchorEl:o,open:S,onClose:e=>{console.log(e),u(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,C.jsx)(b.Z,{onClick:()=>{L("today")},style:{width:"180px"},children:"Today"}),(0,C.jsx)(b.Z,{onClick:()=>{L("yesterday")},children:"Yesterday"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastWeek")},children:"Last 1 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastTwoWeeks")},children:"Last 2 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastMonth")},children:"Last Month"}),(0,C.jsx)(b.Z,{onClick:()=>{L("custom")},children:"Custom Date"})]})]}),w&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:1005,childComponent:(0,C.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{children:(0,C.jsxs)("form",{children:[(0,C.jsx)("p",{className:"text-center ",children:"Select Custom Date "}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"start",children:"From"}),(0,C.jsx)("input",{className:"form-control ".concat(T.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>I(e,"startDate"),value:s.createdTimeStart,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.start&&(0,C.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"end",children:"To"}),(0,C.jsx)("input",{className:"form-control ".concat(T.end?"is-invalid":""),value:s.createdTimeEnd,style:{width:"100%"},type:"date",id:"end",onChange:e=>I(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.end&&(0,C.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{k({start:!1,end:!1}),Z(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,C.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=s.createdTimeStart&&s.createdTimeEnd;return s.createdTimeStart||k((e=>({...e,start:!0}))),s.createdTimeEnd||k((e=>({...e,end:!0}))),e})()&&(k({start:!1,end:!1}),Z(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMin",e.target.value),value:s.expYearsMin,name:"experience",id:"experience",className:"form-control",select:!0,label:"Min experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMax",e.target.value),value:s.expYearsMax,name:"experience",id:"experience",className:"form-control",select:!0,label:"Max experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row",children:[(0,C.jsx)("button",{onClick:function(){n({mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"New candidate lead",stages:3,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)})},className:"btn btn-danger mx-2",children:"Clear"}),(0,C.jsx)("button",{onClick:function(){F(j.mn.setNotQualifiedFilter(s)),t()},className:"btn btn-success",children:"Submit"})]})]})};const W=function(){const[e,t]=(0,l.useState)({data:[]});let a=(0,p.v9)((e=>e.CandidatePipelineDetails.notQualifiedFilter)),n=(0,p.v9)((e=>e.CandidatePipelineDetails.refreshCountIncrement));const[r,d]=(0,l.useState)(!1),[c,b]=(0,l.useState)(!1),[g,v]=(0,l.useState)(""),[f,N]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),[D,F]=(0,l.useState)(!1),[M,P]=(0,l.useState)({show:!1,id:1}),[L,E]=(0,l.useState)(0),[W,A]=(0,l.useState)(!1),O=(0,p.I0)();async function Y(){F(!0);let e=await(0,m.bmW)(a);e.status?(t(e),E(e.totalElements)):(t({data:[]}),E(0)),setTimeout((()=>{F(!1)}),1e3)}(0,l.useEffect)((()=>{Y(),A(function(e,t){const a={...e};delete a.page;const l={...t};delete l.page;for(let s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!0;return!1}(q,a))}),[a,n]);const z=e=>{const t=e.target.value;v(t);let a=!1;"experience"===t&&(a=!0),(0,m.F_c)(a,f.mobileNumber,"").then((e=>{console.log("Data Format",e,"mobile number ",f.mobileNumber)}))};function H(){k(!0),setTimeout((()=>{k(!1),v(""),b(!1)}),1e3),Y()}let q={mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"New candidate lead",stages:3,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)};return(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineContainer," mx-2"),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.headerCard," p-2 d-flex justify-content-between"),children:[(0,C.jsxs)("b",{children:["Not Qualified (",L,") "]})," ",(0,C.jsxs)("div",{className:"mt-0",children:[(0,C.jsx)("div",{className:"d-inline-block",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{Y()},children:[" ",(0,C.jsx)(I.zHJ,{className:"".concat(D?s.Z.refreshRotate:s.Z.refreshcolor)})]})})," ",(0,C.jsxs)("div",{onClick:()=>{d(!0)},className:"d-inline-block mx-2",style:{cursor:"pointer",color:"#858585"},children:[(0,C.jsx)(o.ulB,{}),(0,C.jsx)("p",{style:{backgroundColor:W?"red":"transparent",width:"9px",height:"9px",marginTop:"-12px",zIndex:1e3,marginLeft:"10px",borderRadius:"50%"}})," "]})]})]}),(0,C.jsx)("div",{className:"".concat(s.Z.bodyContainer),children:e.data.map((e=>(0,C.jsx)("div",{onClick:()=>{N(e)},children:(0,C.jsxs)("div",{className:"".concat(s.Z.bodyCard," p-1 "),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.textContent," p-1 "),children:[(0,C.jsxs)("b",{onClick:()=>{(async(e,t)=>{let a;"CandidateLead"===t?a=await(0,m.tpq)(e):"RegisterCandidate"===t&&(a=await(0,m.LSy)(e)),O(j.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:a}))})(e.id,"CandidateLead")},className:s.Z.candidateName,style:{cursor:"pointer"},children:[e.name?e.name:"-"," ",e.lastName?e.lastName:""]})," ",(0,C.jsx)("br",{}),e.jobCategory?e.jobCategory:"-"," ",(0,C.jsx)("br",{}),(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:e.mobileNumber?e.mobileNumber:"-"}),(0,C.jsx)("b",{style:{border:"1px solid yellow",backgroundColor:"lightyellow",fontSize:"10px",borderRadius:"8px",padding:"4px"},children:"Retention"===e.fromSource?"Old lead":null===e.fromSource?"Meta lead":e.fromSource})]})]}),(0,C.jsx)("div",{style:{marginTop:"-20px",marginBottom:"17px"},className:"d-flex justify-content-end",children:(0,C.jsx)("div",{children:(0,C.jsx)("div",{className:"dropdown"})})})]})},e.id)))}),(0,C.jsx)("div",{className:"mt-3 d-grid justify-content-center",children:(0,C.jsx)(i.Z,{shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){O(j.mn.setPageChange({type:"notQualifiedFilter",value:t-1}))},count:e.totalPages,size:"small"})}),r&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(R,{onclose:()=>{d(!1)}})})})}),c&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"container d-flex align-itmes-center justify-content-between",children:[(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("p",{children:(0,C.jsx)("b",{children:"Candidate lead qualify form"})}),(0,C.jsxs)("div",{className:"d-flex",children:[" ",(0,C.jsxs)("div",{className:"me-2  ".concat(u.Z.radioInput),children:[(0,C.jsx)("input",{type:"radio",name:"fresher",id:"fresherYes",value:"fresher",className:"form-check-input ",checked:"fresher"===g,onChange:z}),(0,C.jsx)("label",{for:"fresherYes",children:"Fresher"})]}),(0,C.jsx)("div",{className:"me-2  ".concat(u.Z.radioInput),children:(0,C.jsxs)("label",{className:"form-check-label",children:[(0,C.jsx)("input",{type:"radio",name:"experience",id:"experienceNo",value:"experience",className:"form-check-input ",checked:"experience"===g,onChange:z}),(0,C.jsx)("label",{for:"experienceNo",children:"Experience"})]})})]})]}),(0,C.jsx)("div",{className:"ms-5",children:(0,C.jsxs)("div",{className:"btn btn-outline-danger",onClick:function(){v(""),b(!1),Y()},children:[(0,C.jsx)(y.oHP,{})," "]})})]}),(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:"fresher"===g?(0,C.jsxs)(C.Fragment,{children:[" ",(0,C.jsx)(w.Z,{mobilenumber:f.mobileNumber,whatsappNumber:f.whatsappNumber,Reloadpage:H})]}):"experience"===g?(0,C.jsx)(Z.Z,{mobileNumber:f.mobileNumber,whatsappNumber:f.whatsappNumber,Reloadpage:H}):null})})]})})})}),S&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(T.Z,{HeadText:"Successfully Submit"})})})]})};const A=function(e){let{onclose:t}=e,a=(0,p.v9)((e=>e.CandidatePipelineDetails.candidateFilter));const[s,n]=(0,l.useState)({mobileNumber:a.mobileNumber,assignTo:a.assignTo,profilePageNo:a.profilePageNo,fromSource:a.fromSource,jobCategory:a.jobCategory,currentStatus:a.currentStatus,dateFilterType:a.dateFilterType,expYearsMax:a.expYearsMax,expYearsMin:a.expYearsMin,page:0,currentPipeline:a.currentPipeline,stages:a.stages,startDate:"2020-01-01",endDate:(0,x.x2)(new Date)}),[i,c]=(0,l.useState)([]),[o,u]=l.useState(null),S=Boolean(o),[w,Z]=(0,l.useState)(!1),[T,k]=(0,l.useState)({start:!1,end:!1}),D=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15+",label:"15+"}],F=(0,p.I0)();function I(e,t){const a=e.target.value;"startDate"===t?(n((e=>({...e,createdTimeStart:a,dateFilterType:"custom"}))),k((e=>({...e,start:!1})))):(n((e=>({...e,createdTimeEnd:a,dateFilterType:"custom"}))),k((e=>({...e,end:!1}))))}const[M,P]=(0,l.useState)({jobCategory:[]}),L=e=>{let t=e;const a=new Date;let l=new Date;if("lastWeek"===t){const e=new Date;e.setDate(a.getDate()-7),n((t=>({...t,dateFilterType:"Last 1 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("today"===t)n((e=>({...e,dateFilterType:"Today",createdTimeStart:a.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null);else if("lastMonth"===t){const e=new Date;e.setMonth(e.getMonth()-1),n((t=>({...t,dateFilterType:"Last Month",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("lastTwoWeeks"===t){const e=new Date(a);e.setDate(a.getDate()-13),n((t=>({...t,dateFilterType:"Last 2 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("yesterday"===t){const e=new Date;e.setDate(e.getDate()-1),n((t=>({...t,dateFilterType:"Yesterday",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else"custom"===t&&(Z(!0),u(null))};function E(e,t){if("mobileNumber"===e)(/^\d*$/.test(t)||""===t)&&n((a=>({...a,[e]:t})));else n((a=>({...a,[e]:t})))}return(0,l.useEffect)((()=>{(0,m.aUE)().then((e=>{P((t=>({...t,jobCategory:e.filter((e=>"job category"==e.category)).map((e=>e.options))})))})),(0,m.EPx)().then((e=>{console.log(e);const t=e.filter((e=>!e.Deactived));c(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,l.useEffect)((()=>{F(j.mn.setCandidateFilter(s))}),[s]),(0,l.useEffect)((()=>{}),[a]),(0,C.jsxs)("div",{style:{width:"70vw"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,C.jsx)("span",{children:(0,C.jsxs)("p",{children:[(0,C.jsx)("b",{children:"Registered Filter"})," "]})}),(0,C.jsx)("span",{onClick:()=>{t()},className:"btn btn-danger",style:{cursor:"pointer"},children:(0,C.jsx)(y.oHP,{style:{fontSize:"20px"}})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:-1==s.mobileNumber?"":s.mobileNumber,onChange:e=>E("mobileNumber",e.target.value),inputProps:{maxLength:15},InputProps:{startAdornment:(0,C.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(y.Nhm,{style:{marginRight:"5px"}})," +91"]})}})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{onChange:e=>E("assignTo",e.target.value),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",value:s.assignTo,defaultValue:s.assignTo,children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),i.map((e=>(0,C.jsx)(b.Z,{value:e.id,children:e.userName},e.id)))]})}),(0,C.jsxs)("div",{className:"col-sm-4",children:[(0,C.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,children:[(0,C.jsx)(r.Z,{label:"Created on",id:"basic-button",value:"".concat(s.dateFilterType),"aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:e=>{u(e.currentTarget)}}),(0,C.jsxs)(N.Z,{id:"basic-menu",anchorEl:o,open:S,onClose:e=>{console.log(e),u(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,C.jsx)(b.Z,{onClick:()=>{L("today")},style:{width:"180px"},children:"Today"}),(0,C.jsx)(b.Z,{onClick:()=>{L("yesterday")},children:"Yesterday"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastWeek")},children:"Last 1 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastTwoWeeks")},children:"Last 2 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastMonth")},children:"Last Month"}),(0,C.jsx)(b.Z,{onClick:()=>{L("custom")},children:"Custom Date"})]})]}),w&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:1005,childComponent:(0,C.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{children:(0,C.jsxs)("form",{children:[(0,C.jsx)("p",{className:"text-center ",children:"Select Custom Date "}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"start",children:"From"}),(0,C.jsx)("input",{className:"form-control ".concat(T.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>I(e,"startDate"),value:s.createdTimeStart,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.start&&(0,C.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"end",children:"To"}),(0,C.jsx)("input",{className:"form-control ".concat(T.end?"is-invalid":""),value:s.createdTimeEnd,style:{width:"100%"},type:"date",id:"end",onChange:e=>I(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.end&&(0,C.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{k({start:!1,end:!1}),Z(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,C.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=s.createdTimeStart&&s.createdTimeEnd;return s.createdTimeStart||k((e=>({...e,start:!0}))),s.createdTimeEnd||k((e=>({...e,end:!0}))),e})()&&(k({start:!1,end:!1}),Z(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Source"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.fromSource,onChange:e=>E("fromSource",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Retention",children:"Old lead"}),(0,C.jsx)(b.Z,{value:"Reference",children:"Reference"}),(0,C.jsx)(b.Z,{value:"Whatsapp",children:"Whatsapp"}),(0,C.jsx)(b.Z,{value:"App",children:"App"}),(0,C.jsx)(b.Z,{value:"Meta lead",children:"Meta lead"}),(0,C.jsx)(b.Z,{value:"Naukri",children:"Naukri"})]})]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(d.Z,{id:"tags-outlined",options:M.jobCategory.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:s.jobCategory,onChange:(e,t,a)=>{E("jobCategory","clear"===a?"":t)},filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Job category",placeholder:"Job category"})})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMin",e.target.value),value:s.expYearsMin,name:"experience",id:"experience",className:"form-control",select:!0,label:"Min experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,C.jsx)("div",{className:"row my-3 ",children:(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMax",e.target.value),value:s.expYearsMax,name:"experience",id:"experience",className:"form-control",select:!0,label:"Max experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row",children:[(0,C.jsx)("button",{onClick:function(){n({mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"",stages:4,startDate:"2020-01-01",endDate:(0,x.x2)(new Date)})},className:"btn btn-danger mx-2",children:"Clear"}),(0,C.jsx)("button",{onClick:function(){F(j.mn.setCandidateFilter(s)),t()},className:"btn btn-success",children:"Submit"})]})]})};const O=function(){const[e,t]=(0,l.useState)({data:[]});let a=(0,p.v9)((e=>e.CandidatePipelineDetails.candidateFilter)),n=(0,p.v9)((e=>e.CandidatePipelineDetails.refreshCountIncrement));const[r,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[b,g]=(0,l.useState)(""),[v,f]=(0,l.useState)({callRemainder:!1,success:!1,confirmation:!1}),[N,y]=(0,l.useState)(0),[S,w]=(0,l.useState)(!1),Z=(0,p.I0)();async function T(){u(!0);let e=await(0,m.Ex)(a);"success"==e.status?(t(e),y(e.totalElements)):(t({data:[]}),y(0)),setTimeout((()=>{u(!1)}),1e3)}function k(e){f((t=>({...t,confirmation:e})))}(0,l.useEffect)((()=>{T(),w(function(e,t){const a={...e};delete a.page;const l={...t};delete l.page;for(let s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!0;return!1}(D,a))}),[a,n]);let D={mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",currentPipeline:"",stages:4,startDate:"2020-01-01",endDate:(0,x.x2)(new Date)};return(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineContainer," mx-2"),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.headerCard," p-2 d-flex justify-content-between"),children:[(0,C.jsxs)("b",{children:["Registered (",N,")"]})," ",(0,C.jsxs)("div",{className:"mt-0",children:[(0,C.jsx)("div",{className:"d-inline-block",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{T()},children:[" ",(0,C.jsx)(I.zHJ,{className:"".concat(c?s.Z.refreshRotate:s.Z.refreshcolor)})]})})," ",(0,C.jsxs)("div",{onClick:()=>{d(!0)},style:{cursor:"pointer",color:"#858585"},className:"d-inline-block mx-2",children:[(0,C.jsx)(o.ulB,{}),(0,C.jsx)("p",{style:{backgroundColor:S?"red":"transparent",width:"9px",height:"9px",marginTop:"-12px",zIndex:1e3,marginLeft:"10px",borderRadius:"50%"}})," "]})]})]}),(0,C.jsx)("div",{className:"".concat(s.Z.bodyContainer),children:e.data.map((e=>(0,C.jsx)("div",{onClick:()=>{g(e)},children:(0,C.jsxs)("div",{className:"".concat(s.Z.bodyCard," p-1 "),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.textContent," p-1 "),children:[(0,C.jsxs)("b",{onClick:()=>{(async(e,t)=>{let a;"CandidateLead"===t?a=await(0,m.tpq)(e):"RegisterCandidate"===t&&(a=await(0,m.LSy)(e)),Z(j.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:a}))})(e.id,"RegisterCandidate")},className:s.Z.candidateName,style:{cursor:"pointer"},children:[e.firstName?e.firstName:"-"," ",e.lastName?e.lastName:""]})," ",(0,C.jsx)("br",{}),e.jobCategory?e.jobCategory:"-"," ",(0,C.jsx)("br",{}),(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:e.mobileNumber?e.mobileNumber:"-"}),(0,C.jsx)("b",{style:{border:"1px solid yellow",backgroundColor:"lightyellow",fontSize:"10px",borderRadius:"8px",padding:"4px"},children:"Retention"===e.fromSource?"Old lead":null===e.fromSource?"Meta lead":e.fromSource})]})]}),(0,C.jsxs)("div",{style:{marginTop:"-20px",marginBottom:"17px"},className:"d-flex justify-content-end",children:[(0,C.jsx)("div",{children:(0,C.jsx)("div",{className:"dropdown"})}),(0,C.jsx)("div",{})]})]})},e.id)))}),(0,C.jsx)("div",{className:"mt-3 d-grid justify-content-center",children:(0,C.jsx)(i.Z,{shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){Z(j.mn.setPageChange({type:"candidateFilter",value:t-1}))},count:e.totalPages,size:"small"})}),r&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(A,{onclose:()=>{d(!1)}})})})}),v.confirmation&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h4",{className:"",children:" Confirmation "}),(0,C.jsxs)("div",{children:["Are you sure that you want to not qualify"," ",(0,C.jsxs)("b",{children:[" ",b.name]}),"?"]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{k(!1)},className:"btn btn-danger mx-3",children:"No"})," ",(0,C.jsx)("button",{onClick:function(){let e={notQualified:!0,id:b.id};(0,m.jTS)(e).then((()=>{k(!1),Z(j.mn.setRefreshCount())}),[])},className:"btn btn-success",children:"Yes"})]})]})})})})})]})};const Y=function(e){let{onclose:t}=e,a=(0,p.v9)((e=>e.CandidatePipelineDetails.interviewFollowUpFilter));const[s,n]=(0,l.useState)({mobileNumber:a.mobileNumber,assignTo:a.assignTo,profilePageNo:a.profilePageNo,fromSource:a.fromSource,jobCategory:a.jobCategory,currentStatus:a.currentStatus,followupStatus:a.followupStatus,dateFilterType:a.dateFilterType,expYearsMax:a.expYearsMax,expYearsMin:a.expYearsMin,page:0,currentPipeline:a.currentPipeline,stages:a.stages,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)}),[i,c]=(0,l.useState)([]),[o,u]=l.useState(null),[h,N]=(Boolean(o),(0,l.useState)(!1)),[S,w]=(0,l.useState)({start:!1,end:!1}),Z=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15+",label:"15+"}],T=(0,p.I0)(),[k,D]=(0,l.useState)({jobCategory:[]});function F(e,t){if("mobileNumber"===e)(/^\d*$/.test(t)||""===t)&&n((a=>({...a,[e]:t})));else n((a=>({...a,[e]:t})))}return(0,l.useEffect)((()=>{(0,m.aUE)().then((e=>{D((t=>({...t,jobCategory:e.filter((e=>"job category"==e.category)).map((e=>e.options))})))})),(0,m.EPx)().then((e=>{console.log(e);const t=e.filter((e=>!e.Deactived));c(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,l.useEffect)((()=>{T(j.mn.setInterviewFollowUpFilter(s))}),[s]),(0,l.useEffect)((()=>{}),[a]),(0,C.jsxs)("div",{style:{width:"70vw"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,C.jsx)("span",{children:(0,C.jsxs)("p",{children:[(0,C.jsx)("b",{children:"Interview Follow Up Filter"})," "]})}),(0,C.jsx)("span",{onClick:()=>{t()},className:"btn btn-danger",style:{cursor:"pointer"},children:(0,C.jsx)(y.oHP,{style:{fontSize:"20px"}})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:-1==s.mobileNumber?"":s.mobileNumber,onChange:e=>F("mobileNumber",e.target.value),inputProps:{maxLength:15},InputProps:{startAdornment:(0,C.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(y.Nhm,{style:{marginRight:"5px"}})," +91"]})}})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{onChange:e=>F("assignTo",e.target.value),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",value:s.assignTo,defaultValue:s.assignTo,children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),i.map((e=>(0,C.jsx)(b.Z,{value:e.id,children:e.userName},e.id)))]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Source"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.fromSource,onChange:e=>F("fromSource",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Retention",children:"Old lead"}),(0,C.jsx)(b.Z,{value:"Reference",children:"Reference"}),(0,C.jsx)(b.Z,{value:"Whatsapp",children:"Whatsapp"}),(0,C.jsx)(b.Z,{value:"App",children:"App"}),(0,C.jsx)(b.Z,{value:"Meta lead",children:"Meta lead"}),(0,C.jsx)(b.Z,{value:"Naukri",children:"Naukri"})]})]})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(d.Z,{id:"tags-outlined",options:k.jobCategory.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:s.jobCategory,onChange:(e,t,a)=>{F("jobCategory","clear"===a?"":t)},filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Job category",placeholder:"Job category"})})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>F("expYearsMin",e.target.value),value:s.expYearsMin,name:"experience",id:"experience",className:"form-control",select:!0,label:"Min experience",children:Z.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>F("expYearsMax",e.target.value),value:s.expYearsMax,name:"experience",id:"experience",className:"form-control",select:!0,label:"Max experience",children:Z.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,C.jsx)("div",{className:"row my-3 ",children:(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Status"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.followupStatus,onChange:e=>F("followupStatus",e.target.value),children:[(0,C.jsx)(b.Z,{value:0,children:"ALL"}),(0,C.jsx)(b.Z,{value:1,children:"FollowUp1"}),(0,C.jsx)(b.Z,{value:2,children:"FollowUp2"})]})]})})}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row",children:[(0,C.jsx)("button",{onClick:function(){n({mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",followupStatus:0,currentPipeline:"",stages:5,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)})},className:"btn btn-danger mx-2",children:"Clear"}),(0,C.jsx)("button",{onClick:function(){T(j.mn.setInterviewFollowUpFilter(s)),t()},className:"btn btn-success",children:"Submit"})]})]})};const z=function(){const[e,t]=(0,l.useState)({data:[]});let a=(0,p.v9)((e=>e.CandidatePipelineDetails.interviewFollowUpFilter)),n=(0,p.v9)((e=>e.CandidatePipelineDetails.refreshCountIncrement));const[r,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[b,g]=(0,l.useState)(0),[v,f]=(0,l.useState)(""),[N,y]=(0,l.useState)(!1),S=(0,p.I0)();async function w(){y(!0);let e=await(0,m.Ex)(a);"success"==e.status?(t(e),g(e.totalElements)):(t({data:[]}),g(0)),setTimeout((()=>{y(!1)}),1e3)}(0,l.useEffect)((()=>{w(),u(function(e,t){const a={...e};delete a.page;const l={...t};delete l.page,console.log(a,l,(0,x.iQ)(new Date),"CONSOLEEEEEEEEEEeeeeeeeeeeeeeeeeee");for(let s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!0;return!1}(Z,a))}),[a,n]),(new Date).toISOString().slice(0,10);let Z={mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",followupStatus:0,currentPipeline:"",stages:5,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)};return(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineContainer," mx-2"),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.headerCard," p-2 d-flex justify-content-between"),children:[(0,C.jsxs)("b",{children:["Interview Follow Up (",b,")"]})," ",(0,C.jsxs)("div",{className:"mt-0",children:[(0,C.jsx)("div",{className:"d-inline-block",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{w()},children:[" ",(0,C.jsx)(I.zHJ,{className:"".concat(N?s.Z.refreshRotate:s.Z.refreshcolor)})]})})," ",(0,C.jsxs)("div",{onClick:()=>{d(!0)},style:{cursor:"pointer",color:"#858585"},className:"d-inline-block mx-2",children:[(0,C.jsx)(o.ulB,{}),(0,C.jsx)("p",{style:{backgroundColor:c?"red":"transparent",width:"9px",height:"9px",marginTop:"-12px",zIndex:1e3,marginLeft:"10px",borderRadius:"50%"}})," "]})]})]}),(0,C.jsx)("div",{className:"".concat(s.Z.bodyContainer),children:e.data.map((e=>(0,C.jsx)("div",{onClick:()=>{f(e)},children:(0,C.jsxs)("div",{className:"".concat(s.Z.bodyCard," p-1 "),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.textContent," p-1 "),children:[(0,C.jsx)("div",{className:"d-flex justify-content-between",children:(0,C.jsx)("div",{children:(0,C.jsxs)("b",{onClick:()=>{(async(e,t)=>{let a;console.log(a,"cnadidatre tutu"),"CandidateLead"===t?a=await(0,m.tpq)(e):"RegisterCandidate"===t&&(a=await(0,m.LSy)(e)),S(j.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:a}))})(e.id,"RegisterCandidate")},className:s.Z.candidateName,children:[" ",e.firstName?e.firstName:"-"," ",e.lastName?e.lastName:"-"]})})}),e.jobCategory?e.jobCategory:"-"," ",(0,C.jsx)("br",{}),(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:e.mobileNumber?e.mobileNumber:"-"}),(0,C.jsx)("b",{style:{border:"1px solid yellow",backgroundColor:"lightyellow",fontSize:"10px",borderRadius:"8px",padding:"4px"},children:"Retention"===e.fromSource?"Old lead":null===e.fromSource?"Meta lead":e.fromSource})]})]}),(0,C.jsx)("div",{style:{marginTop:"-20px",marginBottom:"17px"},className:"d-flex justify-content-end"})]})},e.id)))}),(0,C.jsx)("div",{className:"mt-3 d-grid justify-content-center",children:(0,C.jsx)(i.Z,{shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){S(j.mn.setPageChange({type:"interviewFollowUpFilter",value:t-1}))},count:e.totalPages,size:"small"})}),r&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y,{onclose:()=>{d(!1)}})})})})]})};const H=function(e){let{onclose:t}=e,a=(0,p.v9)((e=>e.CandidatePipelineDetails.candididateLeadLostFilter));const[s,n]=(0,l.useState)({mobileNumber:a.mobileNumber,assignTo:a.assignTo,profilePageNo:a.profilePageNo,fromSource:a.fromSource,jobCategory:a.jobCategory,currentStatus:a.currentStatus,dateFilterType:a.dateFilterType,expYearsMax:a.expYearsMax,expYearsMin:a.expYearsMin,page:0,currentPipeline:a.currentPipeline,stages:a.stages,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)}),[i,c]=(0,l.useState)([]),[o,u]=l.useState(null),S=Boolean(o),[w,Z]=(0,l.useState)(!1),[T,k]=(0,l.useState)({start:!1,end:!1}),D=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15+",label:"15+"}],F=(0,p.I0)();function I(e,t){const a=e.target.value;"startDate"===t?(n((e=>({...e,createdTimeStart:a,dateFilterType:"custom"}))),k((e=>({...e,start:!1})))):(n((e=>({...e,createdTimeEnd:a,dateFilterType:"custom"}))),k((e=>({...e,end:!1}))))}const[M,P]=(0,l.useState)({jobCategory:[]}),L=e=>{let t=e;const a=new Date;let l=new Date;if("lastWeek"===t){const e=new Date;e.setDate(a.getDate()-7),n((t=>({...t,dateFilterType:"Last 1 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("today"===t)n((e=>({...e,dateFilterType:"Today",createdTimeStart:a.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null);else if("lastMonth"===t){const e=new Date;e.setMonth(e.getMonth()-1),n((t=>({...t,dateFilterType:"Last Month",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("lastTwoWeeks"===t){const e=new Date(a);e.setDate(a.getDate()-13),n((t=>({...t,dateFilterType:"Last 2 Week",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else if("yesterday"===t){const e=new Date;e.setDate(e.getDate()-1),n((t=>({...t,dateFilterType:"Yesterday",createdTimeStart:e.toISOString().split("T")[0],createdTimeEnd:l.toISOString().split("T")[0]}))),u(null)}else"custom"===t&&(Z(!0),u(null))};function E(e,t){if("mobileNumber"===e)(/^\d*$/.test(t)||""===t)&&n((a=>({...a,[e]:t})));else n((a=>({...a,[e]:t})))}return(0,l.useEffect)((()=>{(0,m.aUE)().then((e=>{P((t=>({...t,jobCategory:e.filter((e=>"job category"==e.category)).map((e=>e.options))})))})),(0,m.EPx)().then((e=>{console.log(e);const t=e.filter((e=>!e.Deactived));c(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,l.useEffect)((()=>{F(j.mn.setCandidateeadlostFilter(s))}),[s]),(0,l.useEffect)((()=>{}),[a]),(0,C.jsxs)("div",{style:{width:"70vw"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,C.jsx)("span",{children:(0,C.jsxs)("p",{children:[(0,C.jsx)("b",{children:"Registered Filter"})," "]})}),(0,C.jsx)("span",{onClick:()=>{t()},className:"btn btn-danger",style:{cursor:"pointer"},children:(0,C.jsx)(y.oHP,{style:{fontSize:"20px"}})})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:-1==s.mobileNumber?"":s.mobileNumber,onChange:e=>E("mobileNumber",e.target.value),inputProps:{maxLength:15},InputProps:{startAdornment:(0,C.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(y.Nhm,{style:{marginRight:"5px"}})," +91"]})}})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(r.Z,{onChange:e=>E("assignTo",e.target.value),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",value:s.assignTo,defaultValue:s.assignTo,children:[(0,C.jsx)(b.Z,{value:-1,children:"ALL"}),i.map((e=>(0,C.jsx)(b.Z,{value:e.id,children:e.userName},e.id)))]})}),(0,C.jsxs)("div",{className:"col-sm-4",children:[(0,C.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,children:[(0,C.jsx)(r.Z,{label:"Created on",id:"basic-button",value:"".concat(s.dateFilterType),"aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:e=>{u(e.currentTarget)}}),(0,C.jsxs)(N.Z,{id:"basic-menu",anchorEl:o,open:S,onClose:e=>{console.log(e),u(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,C.jsx)(b.Z,{onClick:()=>{L("today")},style:{width:"180px"},children:"Today"}),(0,C.jsx)(b.Z,{onClick:()=>{L("yesterday")},children:"Yesterday"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastWeek")},children:"Last 1 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastTwoWeeks")},children:"Last 2 Week"}),(0,C.jsx)(b.Z,{onClick:()=>{L("lastMonth")},children:"Last Month"}),(0,C.jsx)(b.Z,{onClick:()=>{L("custom")},children:"Custom Date"})]})]}),w&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:1005,childComponent:(0,C.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{children:(0,C.jsxs)("form",{children:[(0,C.jsx)("p",{className:"text-center ",children:"Select Custom Date "}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"start",children:"From"}),(0,C.jsx)("input",{className:"form-control ".concat(T.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>I(e,"startDate"),value:s.createdTimeStart,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.start&&(0,C.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)("label",{htmlFor:"end",children:"To"}),(0,C.jsx)("input",{className:"form-control ".concat(T.end?"is-invalid":""),value:s.createdTimeEnd,style:{width:"100%"},type:"date",id:"end",onChange:e=>I(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),T.end&&(0,C.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{k({start:!1,end:!1}),Z(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,C.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=s.createdTimeStart&&s.createdTimeEnd;return s.createdTimeStart||k((e=>({...e,start:!0}))),s.createdTimeEnd||k((e=>({...e,end:!0}))),e})()&&(k({start:!1,end:!1}),Z(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]})]}),(0,C.jsxs)("div",{className:"row my-3 ",children:[(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"select-label",children:"Source"}),(0,C.jsxs)(f.Z,{labelId:"select-label",id:"select",label:"Select option",value:s.fromSource,onChange:e=>E("fromSource",e.target.value),children:[(0,C.jsx)(b.Z,{value:"",children:"ALL"}),(0,C.jsx)(b.Z,{value:"Retention",children:"Old lead"}),(0,C.jsx)(b.Z,{value:"Reference",children:"Reference"}),(0,C.jsx)(b.Z,{value:"Whatsapp",children:"Whatsapp"}),(0,C.jsx)(b.Z,{value:"App",children:"App"}),(0,C.jsx)(b.Z,{value:"Meta lead",children:"Meta lead"}),(0,C.jsx)(b.Z,{value:"Naukri",children:"Naukri"})]})]})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(d.Z,{id:"tags-outlined",options:M.jobCategory.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:s.jobCategory,onChange:(e,t,a)=>{E("jobCategory","clear"===a?"":t)},filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Job category",placeholder:"Job category"})})}),(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMin",e.target.value),value:s.expYearsMin,name:"experience",id:"experience",className:"form-control",select:!0,label:"Min experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,C.jsx)("div",{className:"row my-3 ",children:(0,C.jsx)("div",{className:"col-sm-4",children:(0,C.jsx)(r.Z,{onChange:e=>E("expYearsMax",e.target.value),value:s.expYearsMax,name:"experience",id:"experience",className:"form-control",select:!0,label:"Max experience",children:D.map((e=>(0,C.jsx)(b.Z,{value:e.value,children:e.label},e.value)))})})}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row",children:[(0,C.jsx)("button",{onClick:function(){n({mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",followupStatus:0,currentPipeline:"New candidate lead",stages:6,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)})},className:"btn btn-danger mx-2",children:"Clear"}),(0,C.jsx)("button",{onClick:function(){F(j.mn.setCandidateeadlostFilter(s)),t()},className:"btn btn-success",children:"Submit"})]})]})};const q=function(){const[e,t]=(0,l.useState)({data:[]});let a=(0,p.v9)((e=>e.CandidatePipelineDetails.candididateLeadLostFilter)),n=((0,p.v9)((e=>e.CandidatePipelineDetails.candidateFilter)),(0,p.v9)((e=>e.CandidatePipelineDetails.refreshCountIncrement)));const[c,b]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[f,N]=(0,l.useState)(""),[S,F]=(0,l.useState)(""),[P,L]=(0,l.useState)(""),[E,R]=(0,l.useState)({PopupAddCanLead:!1,callRemainder:!1,success:!1,confirmation:!1,notAttendConfiramtion:!1}),[W,A]=(0,l.useState)(!1),[O,Y]=(0,l.useState)(!1),[z,q]=l.useState(new Date),[Q,X]=(0,l.useState)({notes:"",date:null}),[B,_]=(0,l.useState)([]),[J,$]=(0,l.useState)(""),[U,G]=(0,l.useState)(""),[V,K]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(0),se=(0,p.I0)(),ne=async(e,t)=>{let a;"CandidateLead"===t?a=await(0,m.tpq)(e):"RegisterCandidate"===t&&(a=await(0,m.LSy)(e)),se(j.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:a}))};async function ie(){Y(!0);let e=await(0,m.bmW)(a);"success"==e.status?(t(e),le(e.totalElements)):(t({data:[]}),le(0)),setTimeout((()=>{Y(!1)}),1e3)}(0,l.useEffect)((()=>{ie(),K(function(e,t){const a={...e};delete a.page;const l={...t};delete l.page;for(let s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!0;return!1}(re,a))}),[a,n]);let re={mobileNumber:-1,assignTo:localStorage.getItem("adminID"),profilePageNo:-1,fromSource:"",jobCategory:"",currentStatus:"",dateFilterType:"",expYearsMax:-1,expYearsMin:-1,page:"",followupStatus:0,currentPipeline:"New candidate lead",stages:6,startDate:(0,x.x2)((0,x.o$)("sub",7)),endDate:(0,x.x2)(new Date)};const de=e=>{const t=e.target.value;N(t);let a=!1;"experience"===t&&(a=!0),(0,m.F_c)(a,S.mobileNumber,"").then((e=>{console.log("Data Format",e,"mobile number ",S.mobileNumber)}))};function ce(){L(!0),setTimeout((()=>{L(!1),N(""),v(!1)}),1e3),ie(),je()}function oe(e){R((t=>({...t,callRemainder:e})))}function ue(e){R((t=>({...t,notAttendConfiramtion:e})))}function me(e){R((t=>({...t,confirmation:e})))}function xe(e,t){console.log(t,"date formate"),"date"===e?(te(!1),X((a=>({...a,[e]:t})))):X((a=>({...a,[e]:t})))}const he=(0,x.xE)();function je(){(0,m.xPH)().then((e=>{se(j.mn.setRefreshCount())}))}return console.log(he,"CurrentDateandTime"),(0,l.useEffect)((()=>{(0,m.C3z)().then((e=>{console.log(e,"status"),_(e)}))}),[]),(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineContainer," mx-2"),children:[(0,C.jsxs)("div",{className:"".concat(s.Z.headerCard," p-2 d-flex justify-content-between"),children:[(0,C.jsx)("div",{children:(0,C.jsxs)("b",{children:["Lead Lost(",ae,") "]})}),(0,C.jsxs)("div",{className:"mt-0",children:[(0,C.jsx)("div",{className:"d-inline-block",children:(0,C.jsxs)("span",{style:{cursor:"pointer"},onClick:()=>{ie()},children:[" ",(0,C.jsx)(I.zHJ,{className:"".concat(O?s.Z.refreshRotate:s.Z.refreshcolor)})]})})," ",(0,C.jsxs)("div",{onClick:()=>{b(!0)},className:"d-inline-block mx-2 ",style:{cursor:"pointer",color:"#858585"},children:[(0,C.jsx)(o.ulB,{}),(0,C.jsx)("p",{style:{backgroundColor:V?"red":"transparent",width:"9px",height:"9px",marginTop:"-12px",zIndex:1e3,marginLeft:"10px",borderRadius:"50%"}})," "]})]})]}),(0,C.jsx)("div",{className:"".concat(s.Z.bodyContainer),children:e.data.map((e=>(0,C.jsx)("div",{onClick:()=>{F(e)},children:(0,C.jsx)("div",{className:"".concat(s.Z.bodyCard,"  "),children:(0,C.jsxs)("div",{className:"".concat(s.Z.textContent," p-1 "),children:[(0,C.jsxs)("b",{onClick:()=>{ne(e.id,"CandidateLead")},style:{cursor:"pointer"},className:s.Z.candidateName,children:[e.name?e.name:"-"," ",e.lastName?e.lastName:""]})," ",(0,C.jsx)("br",{}),e.jobCategory?e.jobCategory:"-",(0,C.jsx)("br",{}),(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{children:e.mobileNumber?e.mobileNumber:"-"}),(0,C.jsx)("b",{style:{border:"1px solid yellow",backgroundColor:"lightyellow",fontSize:"10px",borderRadius:"8px",padding:"4px"},children:"Retention"===e.fromSource?"Old lead":null===e.fromSource?"Meta lead":e.fromSource})]})]})})},e.id)))}),(0,C.jsx)("div",{className:"mt-3 d-grid justify-content-center",children:(0,C.jsx)(i.Z,{shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,size:"small"})}),c&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(H,{onclose:()=>{b(!1)}})})})}),g&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"container d-flex align-itmes-center justify-content-between",children:[(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("p",{children:(0,C.jsx)("b",{children:"Candidate lead qualify form"})}),(0,C.jsxs)("div",{className:"d-flex",children:[" ",(0,C.jsxs)("div",{className:"me-2  ".concat(u.Z.radioInput),children:[(0,C.jsx)("input",{type:"radio",name:"fresher",id:"fresherYes",value:"fresher",className:"form-check-input ",checked:"fresher"===f,onChange:de}),(0,C.jsx)("label",{for:"fresherYes",children:"Fresher"})]}),(0,C.jsx)("div",{className:"me-2  ".concat(u.Z.radioInput),children:(0,C.jsxs)("label",{className:"form-check-label",children:[(0,C.jsx)("input",{type:"radio",name:"experience",id:"experienceNo",value:"experience",className:"form-check-input ",checked:"experience"===f,onChange:de}),(0,C.jsx)("label",{for:"experienceNo",children:"Experience"})]})})]})]}),(0,C.jsx)("div",{className:"ms-5",children:(0,C.jsxs)("div",{className:"btn btn-outline-danger",onClick:function(){N(""),v(!1),ie()},children:[(0,C.jsx)(y.oHP,{})," "]})})]}),(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:"fresher"===f?(0,C.jsxs)(C.Fragment,{children:[" ",(0,C.jsx)(w.Z,{mobilenumber:S.mobileNumber,whatsappNumber:S.whatsappNumber,Reloadpage:ce})]}):"experience"===f?(0,C.jsx)(Z.Z,{mobileNumber:S.mobileNumber,whatsappNumber:S.whatsappNumber,Reloadpage:ce}):null})})]})})})}),P&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(T.Z,{HeadText:"Successfully Submit"})})}),E.confirmation&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{zIndex:"5000",childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"",children:" Confirmation "}),(0,C.jsxs)("div",{children:["Are you sure that you want to not qualify"," ",(0,C.jsxs)("b",{children:[" ",S.name," ",S.lastName," "]}),"?"]}),(0,C.jsxs)("form",{action:"#",onSubmit:e=>function(e){if(e.preventDefault(),!Q.notes)return;let t={notQualified:!0,notes:Q.notes,date:he,id:S.id};(0,m.jTS)(t).then((()=>{me(!1),X({notes:""}),se(j.mn.setRefreshCount()),je()}),[])}(e),children:[(0,C.jsxs)("div",{children:[" ",(0,C.jsx)(r.Z,{label:"Add Notes",multiline:!0,value:Q.notes,onChange:e=>{xe("notes",e.target.value)},variant:"outlined",fullWidth:!0,required:!0,margin:"normal"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{me(!1)},className:"btn btn-danger mx-3",children:"No"})," ",(0,C.jsx)("button",{className:"btn btn-success",children:"Yes"})]})]})]})})})})}),E.notAttendConfiramtion&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"",children:" Confirmation "}),(0,C.jsxs)("div",{children:["Are you sure that you want to not attend"," ",(0,C.jsxs)("b",{children:[" ",S.name," ",S.lastName]}),", please select ",(0,C.jsx)("b",{children:"event"}),"?"]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(d.Z,{id:"tags-outlined",className:"mt-3",options:B.map((e=>e)),fullWidth:!0,getOptionLabel:e=>e,value:J,onChange:(e,t)=>{$(t),console.log(t),G("")},required:!0,filterSelectedOptions:!0,renderInput:e=>(0,C.jsx)(r.Z,{...e,label:"Event",placeholder:"Event"})}),U&&(0,C.jsx)("div",{className:"text-danger",children:U})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-end flex-row mt-3 ",children:[(0,C.jsx)("button",{onClick:()=>{ue(!1),$(""),G("")},className:"btn btn-danger mx-3",children:"No"})," ",(0,C.jsx)("button",{onClick:function(){if(""===J)return void G("Please select an event.");let e={notAttend:!0,event:J,date:he,id:S.id};(0,m.jTS)(e).then((()=>{ue(!1),$(""),se(j.mn.setRefreshCount()),je()}),[])},className:"btn btn-success",children:"Yes"})]})]})})})})}),E.callRemainder&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{style:{width:"300px"},children:[" ",(0,C.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,C.jsx)("h4",{className:"text-center",children:"Call Remainder"}),(0,C.jsxs)("span",{onClick:()=>{oe(!1)},className:"btn btn-outline-danger",children:[" ",(0,C.jsx)(k.QAE,{})]})]}),(0,C.jsxs)("form",{onSubmit:e=>function(e){if(e.preventDefault(),!Q.date||!Q.notes)return void te(!Q.date);let t={callRemainder:Q.date instanceof Date?Q.date.toISOString().split("T").join(" "):Q.date.split("T").join(" "),notes:Q.notes,id:S.id};A(!0),(0,m.jTS)(t).then((e=>{A(!1),oe(!1),xe("date",""),X({notes:"",date:""}),se(j.mn.setRefreshCount()),je()})).catch((e=>{console.error("Error submitting call remainder:",e),A(!1)}))}(e),children:[(0,C.jsx)("label",{htmlFor:"",children:"Follow up date : "}),(0,C.jsx)("input",{type:"datetime-local",id:"date",name:"date",className:"form-control",onChange:e=>{xe("date",e.target.value+":00")},required:!0}),(0,C.jsx)("div",{children:" "}),(0,C.jsxs)("div",{children:[" ",(0,C.jsx)(r.Z,{label:"Add Notes",multiline:!0,value:Q.notes,onChange:e=>{xe("notes",e.target.value)},variant:"outlined",fullWidth:!0,required:!0,margin:"normal"})]}),(0,C.jsx)(D.Z,{type:"submit",loading:W,variant:"outlined",children:(0,C.jsx)("span",{children:"Submit"})})]})]})})})})}),E.PopupAddCanLead&&(0,C.jsx)(x.Xf,{children:(0,C.jsx)(h.Z,{childComponent:(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"p-2",style:{width:"800px"},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,C.jsx)("div",{className:"fs-4",children:(0,C.jsx)("b",{children:"Candidate Lead Generation"})}),(0,C.jsx)("div",{className:"btn btn-outline-danger",onClick:()=>{R({PopupAddCanLead:!1})},children:(0,C.jsx)(y.oHP,{})})]}),(0,C.jsx)("div",{className:"",style:{height:"65vh",overflow:"auto"},children:(0,C.jsx)(M.Z,{oncloseLead:()=>R((e=>({...e,PopupAddCanLead:!1}))),Reloadresponse:ie})})]})})})})]})};const Q=function(){return(0,C.jsx)("div",{children:(0,C.jsx)("div",{className:"".concat(s.Z.pipelineWrp),children:(0,C.jsxs)("div",{className:"".concat(s.Z.pipelineBox),children:[(0,C.jsx)(P,{}),(0,C.jsx)(E,{}),(0,C.jsx)(W,{}),(0,C.jsx)(O,{}),(0,C.jsx)(z,{}),(0,C.jsx)(q,{}),console.log((0,x.B3)("add",1))]})})})}}}]);
//# sourceMappingURL=922.03f83d70.chunk.js.map